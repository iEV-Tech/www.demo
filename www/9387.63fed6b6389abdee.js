"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9387],{9387:(Je,j,d)=>{d.r(j),d.d(j,{UserPageModule:()=>He});var g=d(177),y=d(9417),s=d(3092),U=d(7625),u=d(467),V=d(23),I=d(1038),P=d(9946),T=d(6539),b=d(8517),R=d(8833),C=d(5312),m=d(8650),N=d(4393),x=d(6171),O=d(6757),k=d(6037);const G=function(){var i=(0,u.A)(function*(a){var o,t;a.params=a.params||{},(0,k.hm)({url:"api/OwnerCompany/get-ownercompany",params:{PageNumber:null!==(o=a.params.PageNumber)&&void 0!==o?o:1,PageSize:null!==(t=a.params.PageSize)&&void 0!==t?t:10},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var l;"function"==typeof a.callback&&a.callback(null==n||null===(l=n.response)||void 0===l?void 0:l.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(o){return i.apply(this,arguments)}}(),B=function(){var i=(0,u.A)(function*(a){var o,t;a.params=a.params||{},(0,k.hm)({url:"api/UserClassifyHistory/get-history",params:{PageNumber:null!==(o=a.params.PageNumber)&&void 0!==o?o:1,PageSize:null!==(t=a.params.PageSize)&&void 0!==t?t:10},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var l;"function"==typeof a.callback&&a.callback(null==n||null===(l=n.response)||void 0===l?void 0:l.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(o){return i.apply(this,arguments)}}();var $=d(3588),e=d(4438),M=d(4842);const S=()=>[];function X(i,a){1&i&&(e.j41(0,"div",9),e.nrm(1,"img",10),e.j41(2,"div",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"DataNotFound")))}function A(i,a){if(1&i&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&i){const o=e.XpG().$implicit;e.R7$(),e.SpI(" ",o.Reason," ")}}function W(i,a){1&i&&(e.j41(0,"div",23),e.nrm(1,"ion-icon",24),e.k0s())}function D(i,a){if(1&i&&(e.j41(0,"ion-thumbnail",31),e.nrm(1,"img",32),e.k0s()),2&i){const o=e.XpG(2).$implicit,t=e.XpG(3);e.R7$(),e.Y8G("src",t.readfile_url+o.UcValue,e.B4B)}}function H(i,a){if(1&i&&(e.j41(0,"td"),e.DNE(1,D,2,1,"ion-thumbnail",30),e.k0s()),2&i){const o=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",o.UcValue)}}function Y(i,a){if(1&i&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&i){const o=e.XpG().$implicit;e.R7$(),e.JRh(o.UcValue)}}function J(i,a){if(1&i&&(e.j41(0,"tr",28)(1,"td",29),e.EFF(2),e.k0s(),e.DNE(3,H,2,1,"td")(4,Y,2,1),e.k0s()),2&i){const o=a.$implicit;e.R7$(2),e.JRh(o.UcCode),e.R7$(),e.vxM(3,"filepath"==o.DataType?3:4)}}function L(i,a){if(1&i&&(e.j41(0,"div",25)(1,"table",26),e.DNE(2,J,5,2,"tr",27),e.k0s()()),2&i){let o;const t=e.XpG().$implicit;e.R7$(2),e.Y8G("ngForOf",null!==(o=t.UserClassifyUpgradeValues)&&void 0!==o?o:e.lJ4(1,S))}}function z(i,a){if(1&i&&(e.j41(0,"div",7)(1,"ion-accordion",12)(2,"div",13)(3,"div",14)(4,"b"),e.EFF(5),e.k0s(),e.j41(6,"ion-text",15),e.EFF(7),e.k0s()(),e.j41(8,"div",16)(9,"small",17),e.EFF(10),e.k0s(),e.j41(11,"small",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.DNE(14,A,2,1,"div",19)(15,W,2,0,"div",20),e.k0s(),e.DNE(16,L,3,2,"div",21),e.k0s()()),2&i){let o;const t=a.$implicit,n=e.XpG();e.R7$(),e.Y8G("value",t.UserClassifyHistoryId),e.R7$(4),e.JRh(t.UserClassifyName),e.R7$(),e.Y8G("color",n.v_user_classify_status.color(t.VUserClassifyStatus)),e.R7$(),e.SpI(" ",t.VUserClassifyStatusName," "),e.R7$(3),e.SpI(" ",n.APP_FUNC_FormatDate(t.CreatedDate)," "),e.R7$(2),e.SpI(" ",e.bMT(13,9,null!==(o=t.CreatedByFullname)&&void 0!==o?o:"")," "),e.R7$(2),e.Y8G("ngIf",t.Reason),e.R7$(),e.Y8G("ngIf",null==t.UserClassifyUpgradeValues?null:t.UserClassifyUpgradeValues.length),e.R7$(),e.Y8G("ngIf",null==t.UserClassifyUpgradeValues?null:t.UserClassifyUpgradeValues.length)}}function K(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-infinite-scroll",33),e.bIt("ionInfinite",function(n){e.eBV(o);const l=e.XpG();return e.Njj(l.onIonInfinite(n))}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}}let Z=(()=>{var i;class a{constructor(t,n,l,r){this.router=t,this.loadingController=n,this.toastController=l,this.modalController=r,this.APP_FUNC_FormatDate=b.Rv,this.readfile_url=C.c.readfile_url,this.paging={sortfield:null,sorttype:null,page:1,limit:20,loading:!1,active:!0},this.filter={},this.userClassifyHistories=[],this.v_user_classify_status=$.HM,this.limitLoad=0}ngOnInit(){var t=this;(0,u.A)(function*(){(yield(0,T.kU)())&&t.refreshData()})()}modalClose(){this.modalController.dismiss()}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}pushData(t){1==this.paging.page&&(this.userClassifyHistories.length=0),this.userClassifyHistories=this.userClassifyHistories.concat(t)}refreshData(t){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit(t)}loadMore(t){this.paging.page+=1,this.loadData_Paging_Limit(t)}searchChange(t){this.filter.search=t.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}sortChange(t,n){this.paging.sortfield=t||null,this.paging.sorttype=n||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}loadData_Paging_Limit(t){var n=this;return(0,u.A)(function*(){if(n.limitLoad>0)return void(t&&t());n.limitLoad=300;let l=setInterval(()=>{n.limitLoad-=100,n.limitLoad<=0&&(clearInterval(l),n.loadData_Paging(t))},100)})()}loadData_Paging(t){var n=this;return(0,u.A)(function*(){n.paging.loading=!0,B({loadingController:n.loadingController,params:{PageNumber:n.paging.page,PageSize:n.paging.limit},callback:l=>{var r;n.response=l,null!=l&&l.Succeeded?n.pushData(null!==(r=null==l?void 0:l.Data)&&void 0!==r?r:[]):(0,m.cX)(n.toastController,{},l).then(c=>c.present()),n.paging.loading=!1,n.paging.active=!(null==l||!l.HasNextPage),t&&t()}})})()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(U.Ix),e.rXU(s.Xi),e.rXU(s.K_),e.rXU(s.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-modal-user-classify-history"]],decls:17,vars:5,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],["class","container py-5 text-center",4,"ngIf"],[1,"container"],["multiple","false","value","SettingSystemPrompt"],[1,"bg-light","color-dark","br-16px","overflow-hidden","mb-3"],[3,"ionInfinite",4,"ngIf"],[1,"container","py-5","text-center"],["src","../../../assets/image/default/no-info.svg"],[1,"text-muted","mt-4"],[3,"value"],["slot","header",1,"p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fs-12",3,"color"],[1,"d-flex","align-items-end","justify-content-between","mt-2"],[1,"text-primary"],[1,"text-muted","fw-500"],["class","border-top pt-3 mt-3 fs-14",4,"ngIf"],["class","icon-expand d-flex justify-content-center mt-2",4,"ngIf"],["slot","content","class","ion-padding-horizontal",4,"ngIf"],[1,"border-top","pt-3","mt-3","fs-14"],[1,"icon-expand","d-flex","justify-content-center","mt-2"],["color","medium","name","chevron-down-outline",1,"fs-16"],["slot","content",1,"ion-padding-horizontal"],[1,"table","table-sm"],["class","fs-14",4,"ngFor","ngForOf"],[1,"fs-14"],[1,"text-nowrap","text-medium"],["class","w-120px h-120px",4,"ngIf"],[1,"w-120px","h-120px"],[3,"src"],[3,"ionInfinite"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return n.modalClose()}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",3),e.bIt("ionRefresh",function(r){return n.onIonRefresher(r)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.DNE(11,X,5,3,"div",4),e.j41(12,"div",5)(13,"ion-accordion-group",6),e.Z7z(14,z,17,11,"div",7,e.fX1),e.k0s()(),e.DNE(16,K,2,0,"ion-infinite-scroll",8),e.k0s()),2&t&&(e.R7$(6),e.JRh(e.bMT(7,3,"UpgradeHistory")),e.R7$(5),e.Y8G("ngIf",n.response&&!n.userClassifyHistories.length),e.R7$(3),e.Dyx(n.userClassifyHistories),e.R7$(2),e.Y8G("ngIf",n.paging.active))},dependencies:[g.Sq,g.bT,s.xk,s.YH,s.Jm,s.QW,s.W9,s.eU,s.iq,s.Ax,s.Hp,s.To,s.Ki,s.IO,s.Zx,s.BC,s.ai,M.D9],styles:[".card-order[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast)}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{min-height:1.25rem;padding-top:.25rem;padding-bottom:.25rem}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;line-height:0}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion[_ngcontent-%COMP%]{margin:.5rem 0}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion[_ngcontent-%COMP%]   ion-item[slot=header][_ngcontent-%COMP%]{--border-width: 0 !important}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion[_ngcontent-%COMP%]:not(.accordion-expanded){border-bottom:1px solid #eee}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion.accordion-expanding[_ngcontent-%COMP%], ion-accordion-group[_ngcontent-%COMP%] > ion-accordion.accordion-expanded[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px}ion-accordion-group[_ngcontent-%COMP%]   ion-accordion.accordion-expanding[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], ion-accordion-group[_ngcontent-%COMP%]   ion-accordion.accordion-expanded[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none!important}"]}),a})();const Q=function(){var i=(0,u.A)(function*(a){a.params=a.params||{},(0,k.hm)({url:"api/UserClassify/get-available-catg",params:{},success:o=>{"function"==typeof a.callback&&a.callback(o.data||null)},error:o=>{var t;"function"==typeof a.callback&&a.callback(null==o||null===(t=o.response)||void 0===t?void 0:t.data),console.error(o)},loading:a.loading,loadingController:a.loadingController})});return function(o){return i.apply(this,arguments)}}(),q=function(){var i=(0,u.A)(function*(a){a.params=a.params||{},(0,k.IH)({url:"api/UserClassify/upgrade",params:{UserClassifyCode:a.params.UserClassifyCode,UserClassifyUpgradeValues:a.params.UserClassifyUpgradeValues},success:o=>{"function"==typeof a.callback&&a.callback(o.data||null)},error:o=>{var t;"function"==typeof a.callback&&a.callback(null==o||null===(t=o.response)||void 0===t?void 0:t.data),console.error(o)},loading:a.loading,loadingController:a.loadingController})});return function(o){return i.apply(this,arguments)}}();var ee=d(5614);const ne=()=>[0,.75,1];function te(i,a){1&i&&(e.j41(0,"div",6)(1,"ion-text",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&i&&(e.R7$(2),e.JRh(e.bMT(3,1,"DataNotFound")))}function oe(i,a){if(1&i&&(e.j41(0,"ion-select-option",14),e.EFF(1),e.k0s()),2&i){const o=a.$implicit;e.Y8G("value",o.UcWorkflowId),e.R7$(),e.SpI(" ",o.UserClassifyName," ")}}function ie(i,a){if(1&i){const o=e.RV6();e.j41(0,"div",8)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"ion-text",12),e.EFF(5,"*"),e.k0s()(),e.j41(6,"ion-select",13),e.nI1(7,"translate"),e.bIt("ionChange",function(n){e.eBV(o);const l=e.XpG();return e.Njj(l.changeUcWorkflow(n))}),e.Z7z(8,oe,2,2,"ion-select-option",14,e.fX1),e.k0s()()}if(2&i){const o=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"UpgradeCatg")," "),e.R7$(4),e.Y8G("placeholder",e.bMT(7,5,"UpgradeCatg"))("value",null==o.ucWorkflow?null:o.ucWorkflow.UcWorkflowId),e.R7$(2),e.Dyx(o.ucWorkflows)}}function le(i,a){1&i&&(e.j41(0,"ion-text",12),e.EFF(1,"*"),e.k0s())}function ae(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-input",15),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG().$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("ionInput",function(n){e.eBV(o);const l=e.XpG().$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_string(n,l.UcCode,l.Pattern))}),e.k0s()}if(2&i){let o,t;const n=e.XpG().$implicit,l=e.XpG();e.Y8G("color",l.validUserClassifyUpgrade(n)?"success":"danger")("placeholder",n.UcName)("minlength",null!==(o=n.MinValue)&&void 0!==o?o:0)("maxlength",null!==(t=n.MaxValue)&&void 0!==t?t:1e3),e.R50("ngModel",l.userClassifyUpgradeValue[n.UcCode])}}function re(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-input",16),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG().$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("ionInput",function(n){e.eBV(o);const l=e.XpG().$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_string(n,l.UcCode))}),e.k0s()}if(2&i){let o,t;const n=e.XpG().$implicit,l=e.XpG();e.Y8G("color",l.validUserClassifyUpgrade(n)?"success":"danger")("placeholder",n.UcName)("minlength",null!==(o=n.MinValue)&&void 0!==o?o:0)("maxlength",null!==(t=n.MaxValue)&&void 0!==t?t:2147483647),e.R50("ngModel",l.userClassifyUpgradeValue[n.UcCode])}}function se(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-thumbnail",18),e.bIt("click",function(n){e.eBV(o);const l=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_filepath(n,l.UcCode))}),e.nrm(1,"img",19),e.k0s()}if(2&i){const o=e.XpG(2).$implicit,t=e.XpG();e.R7$(),e.Y8G("src",t.getUserClassifyUpgradeUrl(o.UcCode),e.B4B)}}function ce(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-input",20),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2).$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("ionFocus",function(n){e.eBV(o);const l=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_filepath(n,l.UcCode))}),e.j41(1,"ion-label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&i){const o=e.XpG(2).$implicit,t=e.XpG();e.Y8G("color",t.validUserClassifyUpgrade(o)?"success":"danger")("placeholder",o.UcName),e.R50("ngModel",t.userClassifyUpgradeValue[o.UcCode]),e.R7$(2),e.SpI(" ",e.bMT(3,4,"Upload")," ")}}function de(i,a){if(1&i&&e.DNE(0,se,2,1,"ion-thumbnail",17)(1,ce,4,6),2&i){const o=e.XpG().$implicit,t=e.XpG();e.vxM(0,t.getUserClassifyUpgradeUrl(o.UcCode)?0:1)}}function pe(i,a){if(1&i){const o=e.RV6();e.qex(0),e.j41(1,"div",28)(2,"div",29)(3,"div",30),e.bIt("click",function(){let n;const l=e.eBV(o).$implicit;e.XpG(2);const r=e.sdS(5),c=e.XpG(2).$implicit;return e.XpG().changeUserClassifyUpgradeValue(c.UcCode,null!==(n=null!==(n=l.CarBrand)&&void 0!==n?n:l.CarDesc)&&void 0!==n?n:""),e.Njj(r.dismiss())}),e.nrm(4,"ion-img",31),e.k0s()()(),e.bVm()}if(2&i){const o=a.$implicit,t=e.XpG(5);e.R7$(4),e.Y8G("src",t.getLogoUrl(o.LogoUrl))("alt",o.CarBrand)}}function ue(i,a){if(1&i&&(e.j41(0,"div",23)(1,"div",24)(2,"h4",25),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",26),e.DNE(6,pe,5,2,"ng-container",27),e.k0s()()),2&i){const o=e.XpG(4);e.R7$(3),e.SpI(" ",e.bMT(4,2,"SelectVehicleBrand")," "),e.R7$(3),e.Y8G("ngForOf",o.carManufts)}}function _e(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-input",20),e.mxI("ngModelChange",function(n){e.eBV(o);const l=e.XpG(2).$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("ionFocus",function(){e.eBV(o);const n=e.sdS(5);return e.Njj(n.present())}),e.j41(1,"ion-label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"ion-modal",22,0),e.DNE(6,ue,7,4,"ng-template"),e.k0s()}if(2&i){const o=e.XpG(2).$implicit,t=e.XpG();e.Y8G("color",t.validUserClassifyUpgrade(o)?"success":"danger")("placeholder",o.UcName),e.R50("ngModel",t.userClassifyUpgradeValue[o.UcCode]),e.R7$(2),e.SpI(" ",e.bMT(3,6,"Choose")," "),e.R7$(2),e.Y8G("initialBreakpoint",.75)("breakpoints",e.lJ4(8,ne))}}function me(i,a){if(1&i&&e.DNE(0,_e,7,9),2&i){const o=e.XpG().$implicit;e.vxM(0,"CarManuft"==o.KeyData?0:-1)}}function fe(i,a){if(1&i&&(e.j41(0,"div",8)(1,"div"),e.EFF(2),e.DNE(3,le,2,0,"ion-text",12),e.k0s(),e.DNE(4,ae,1,5)(5,re,1,5)(6,de,2,1)(7,me,1,1),e.k0s()),2&i){let o;const t=a.$implicit;e.R7$(2),e.SpI(" ",t.UcName," "),e.R7$(),e.vxM(3,t.IsRequired?3:-1),e.R7$(),e.vxM(4,"string"===(o=t.DataType)?4:"number"===o?5:"filepath"===o?6:"dropdownlist"===o?7:-1)}}let ge=(()=>{var i;class a{constructor(t,n,l){this.loadingController=t,this.toastController=n,this.modalController=l,this.readfile_url=C.c.readfile_url,this.ucWorkflows=[],this.carManufts=[],this.userClassifyUpgradeCatgs=[],this.userClassifyUpgradeValue={}}ngOnInit(){Q({loading:t=>{this.isLoading=t},callback:t=>{null!=t&&t.Succeeded?this.ucWorkflows=t.Data||[]:(0,m.cX)(this.toastController,{},t).then(n=>n.present())}}),(0,P.z)({callback:t=>{if(null!=t&&t.Succeeded){var n,l;let c=null!==(n=t.Data)&&void 0!==n?n:{};var r;c.FullName&&this.changeUserClassifyUpgradeValue("HO-TEN",c.FullName),null!==(l=c.Person)&&void 0!==l&&l.Address&&this.changeUserClassifyUpgradeValue("DIA-CHI",null===(r=c.Person)||void 0===r?void 0:r.Address)}}}),(0,ee.E)({params:{PageNumber:1,PageSize:100},callback:t=>{null!=t&&t.Succeeded&&(this.carManufts=t.Data)}})}modalClose(){this.modalController.dismiss()}get modalSubmit_disabled(){return!this.userClassifyUpgradeCatgs.length||this.userClassifyUpgradeCatgs.map(t=>this.validUserClassifyUpgrade(t)?0:1).includes(1)}modalSubmit(){for(const l of this.userClassifyUpgradeCatgs)if(!this.checkUserClassifyUpgrade(l))break;if(this.modalSubmit_disabled)return;let t=()=>{var l,r;q({params:{UserClassifyCode:null!==(l=null===(r=this.ucWorkflow)||void 0===r?void 0:r.UserClassifyCode)&&void 0!==l?l:"",UserClassifyUpgradeValues:this.userClassifyUpgradeCatgs.map(c=>{var p;return{UcCode:c.UcCode,UcValue:null!==(p=this.userClassifyUpgradeValue[c.UcCode])&&void 0!==p?p:""}})},callback:c=>{var p;null!=c&&c.Succeeded?(this.modalController.dismiss(null,"success"),(0,m.cX)(this.toastController,{color:"success",message:null!==(p=c.Message)&&void 0!==p?p:"Th\u1ef1c hi\u1ec7n n\xe2ng c\u1ea5p t\xe0i kho\u1ea3n th\xe0nh c\xf4ng"}).then(_=>_.present())):(0,m.cX)(this.toastController,{},c).then(_=>_.present())}})},n=this.userClassifyUpgradeCatgs.filter(l=>l.file).map(l=>new Promise((r,c)=>{(0,I.v)({loadingController:this.loadingController,params:{file:l.file,subFolder:"classify",fileType:"image"},callback:p=>{0==(null==p?void 0:p.ReturnCode)?this.changeUserClassifyUpgradeValue(l.UcCode,`${p.path}/${p.file.name}`):(0,m.cX)(this.toastController,{},p).then(_=>_.present()),r(p)}})}));n.length?Promise.all(n).then(()=>{t()}):t()}changeUcWorkflow(t){var n,l;let r=t.detail.value;this.ucWorkflow=this.ucWorkflows.find(c=>c.UcWorkflowId==r),this.userClassifyUpgradeCatgs=null!==(n=null===(l=this.ucWorkflow)||void 0===l?void 0:l.UserClassifyUpgradeCatgs)&&void 0!==n?n:[]}getUserClassifyUpgradeUrl(t){let n=this.userClassifyUpgradeValue[t];if(n)return this.readfile_url+n;let l=this.userClassifyUpgradeCatgs.find(r=>r.UcCode==t);return l?l.fileUrl?l.fileUrl:void 0:null}getUserClassifyUpgrade(t){return this.userClassifyUpgradeCatgs.find(n=>n.UcCode==t)}validUserClassifyUpgrade(t){var n;let{fileUrl:l}=null!==(n=this.getUserClassifyUpgrade(t.UcCode))&&void 0!==n?n:{},r=this.userClassifyUpgradeValue[t.UcCode];return r?!(t.MinValue&&r.length<t.MinValue||t.MaxValue&&r.length>t.MaxValue):!!l||!t.IsRequired}checkUserClassifyUpgrade(t){var n;let{fileUrl:l}=null!==(n=this.getUserClassifyUpgrade(t.UcCode))&&void 0!==n?n:{},r=this.userClassifyUpgradeValue[t.UcCode];return r?t.MinValue&&r.length<t.MinValue?((0,m.cX)(this.toastController,{color:"warning",message:`${t.UcName} ch\u01b0a \u0111\u1ee7 ${t.MinValue} k\xed t\u1ef1.`}).then(c=>c.present()),!1):!(t.MaxValue&&r.length>t.MaxValue&&((0,m.cX)(this.toastController,{color:"warning",message:`${t.UcName} v\u01b0\u1ee3t ${t.MaxValue} k\xed t\u1ef1.`}).then(c=>c.present()),1)):!!l||!t.IsRequired||((0,m.cX)(this.toastController,{color:"warning",message:`${t.UcName} b\u1eaft bu\u1ed9c nh\u1eadp.`}).then(c=>c.present()),!1)}changeUserClassifyUpgradeValue(t,n){this.userClassifyUpgradeValue[t]=n}changeUserClassifyUpgradeFile(t,n){let l=this.userClassifyUpgradeCatgs.find(r=>r.UcCode==t);l?(l.file=n.file,l.fileUrl=n.fileUrl):this.userClassifyUpgradeCatgs.push({UcCode:t,...n})}changeUserClassifyUpgradeValue_string(t,n,l){let r=t.detail.value;"string"==typeof r&&(r=r.replace(/\s+/g," ").trim(),l&&(r=r.replace(new RegExp(l,"gmi"),""))),this.changeUserClassifyUpgradeValue(n,r)}changeUserClassifyUpgradeValue_filepath(t,n){var l=this;(0,O.$)({modalController:this.modalController,toastController:this.toastController},function(){var r=(0,u.A)(function*(c){if(c.length){let p=yield l.modalController.create({component:x.A,componentProps:{file:c[0]},backdropDismiss:!0,keyboardClose:!0});p.onDidDismiss().then(function(){var _=(0,u.A)(function*(h){if("submit"==h.role&&h.data){var f=h.data;l.changeUserClassifyUpgradeFile(n,{file:f,fileUrl:URL.createObjectURL(f)})}});return function(h){return _.apply(this,arguments)}}()),p.present()}});return function(c){return r.apply(this,arguments)}}())}getLogoUrl(t){return!t||t.match(/^http(s)\:\/\//)?null!=t?t:"assets/image/favicon.svg":C.c.readfile_url+t.replace(/^\//,"")}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(s.Xi),e.rXU(s.K_),e.rXU(s.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-modal-user-classify"]],decls:21,vars:9,consts:[["modalCarManuft",""],["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],[1,"container","d-flex","flex-column","h-100"],[1,"flex-grow-1"],[1,"my-4","text-center"],["class","my-4",4,"ngIf"],[1,"my-4"],[1,"container"],["color","primary","shape","round","expand","block",3,"click","disabled"],["color","medium"],["color","danger"],["mode","md","fill","outline","interface","popover",3,"ionChange","placeholder","value"],[3,"value"],["mode","md","fill","outline","type","text",3,"ngModelChange","ionInput","color","placeholder","minlength","maxlength","ngModel"],["mode","md","fill","outline","type","number","inputmode","decimal",3,"ngModelChange","ionInput","color","placeholder","minlength","maxlength","ngModel"],[1,"rounded","overflow-hidden"],[1,"rounded","overflow-hidden",3,"click"],[3,"src"],["mode","md","fill","outline","type","text","readonly","",3,"ngModelChange","ionFocus","color","placeholder","ngModel"],["slot","end","color","medium",1,"fs-12"],[3,"initialBreakpoint","breakpoints"],[1,"ion-background-color-primary"],[1,"pt-4"],[1,"text-center","my-0"],[1,"p-3","d-flex","flex-wrap"],[4,"ngFor","ngForOf"],[1,"col-4","p-2"],[1,"p-3","rounded","bg-white"],[1,"embed-responsive","embed-responsive-1by1","cursor-pointer",3,"click"],[1,"embed-responsive-item",3,"src","alt"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.bIt("click",function(){return n.modalClose()}),e.nrm(4,"ion-icon",3),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"div",4)(10,"div",5),e.DNE(11,te,4,3,"div",6)(12,ie,10,7,"div",7),e.Z7z(13,fe,8,3,"div",8,e.fX1),e.k0s()()(),e.j41(15,"ion-footer")(16,"ion-toolbar")(17,"div",9)(18,"ion-button",10),e.bIt("click",function(){return n.modalSubmit()}),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()()),2&t&&(e.R7$(6),e.JRh(e.bMT(7,5,"UpgradeAccount")),e.R7$(5),e.vxM(11,n.isLoading||n.ucWorkflows.length?-1:11),e.R7$(),e.Y8G("ngIf",n.ucWorkflows.length),e.R7$(),e.Dyx(n.userClassifyUpgradeCatgs),e.R7$(5),e.Y8G("disabled",!n.userClassifyUpgradeCatgs.length),e.R7$(),e.SpI(" ",e.bMT(20,7,"Send")," "))},dependencies:[g.Sq,g.bT,y.BC,y.xh,y.tU,y.vS,s.Jm,s.QW,s.W9,s.M0,s.eU,s.iq,s.KW,s.$w,s.he,s.Nm,s.Ip,s.IO,s.Zx,s.BC,s.ai,s.Sb,s.su,s.Je,s.Gw,M.D9],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 7.5rem}ion-input[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;text-transform:uppercase;font-size:.875rem}"]}),a})();var Ce=d(345),he=d(9777);const ve=function(){var i=(0,u.A)(function*(a){a.params=a.params||{},(0,k.hm)({url:"api/Wallet/get-mywallet",success:o=>{"function"==typeof a.callback&&a.callback(o.data||null)},error:o=>{var t;"function"==typeof a.callback&&a.callback(null==o||null===(t=o.response)||void 0===t?void 0:t.data),console.error(o)},loading:a.loading,loadingController:a.loadingController})});return function(o){return i.apply(this,arguments)}}(),w=()=>({}),E=i=>({$implicit:i});function ye(i,a){if(1&i&&e.eu8(0,3),2&i){let o;const t=e.XpG(),n=e.sdS(4);e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.eq3(3,E,null!==(o=t.wallet)&&void 0!==o?o:e.lJ4(2,w)))}}function Ue(i,a){if(1&i&&e.eu8(0,3),2&i){let o;const t=e.XpG(),n=e.sdS(6);e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.eq3(3,E,null!==(o=t.wallet)&&void 0!==o?o:e.lJ4(2,w)))}}function be(i,a){if(1&i){const o=e.RV6();e.j41(0,"span",16),e.EFF(1),e.k0s(),e.j41(2,"ion-icon",17),e.bIt("click",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&i){let o;const t=e.XpG(2);e.R7$(),e.SpI(" ",t.APP_FUNC_FormatMoney(null!==(o=null==t.wallet?null:t.wallet.WalletValue)&&void 0!==o?o:0),"\u0111 ")}}function ke(i,a){if(1&i){const o=e.RV6();e.j41(0,"span",18),e.EFF(1,"*** ***"),e.k0s(),e.j41(2,"ion-icon",19),e.bIt("click",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}}function Me(i,a){if(1&i){const o=e.RV6();e.j41(0,"span",16),e.EFF(1),e.k0s(),e.j41(2,"ion-icon",17),e.bIt("click",function(){e.eBV(o);const n=e.XpG(3);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&i){let o;const t=e.XpG(3);e.R7$(),e.SpI(" ",t.APP_FUNC_FormatMoney(null!==(o=null==t.wallet?null:t.wallet.VehicleWalletBalance)&&void 0!==o?o:0),"\u0111 ")}}function Pe(i,a){if(1&i){const o=e.RV6();e.j41(0,"span",18),e.EFF(1,"*** ***"),e.k0s(),e.j41(2,"ion-icon",19),e.bIt("click",function(){e.eBV(o);const n=e.XpG(3);return e.Njj(n.toggleShowBalance())}),e.k0s()}}function Re(i,a){if(1&i&&(e.j41(0,"div",12)(1,"div",20),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div",11)(5,"span",10),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.DNE(8,Me,3,1)(9,Pe,3,0),e.k0s()()),2&i){const o=e.XpG(2);e.R7$(2),e.SpI(" ",e.bMT(3,3,"VehicleWallet")," "),e.R7$(4),e.SpI("",e.bMT(7,5,"Balance"),":"),e.R7$(2),e.vxM(8,o.isShowBalance?8:9)}}function Fe(i,a){if(1&i){const o=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div")(7,"div",10),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"div",11)(11,"span",10),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.DNE(14,be,3,1)(15,ke,3,0),e.k0s()(),e.DNE(16,Re,10,7,"div",12),e.k0s()(),e.j41(17,"div",13)(18,"div")(19,"div",14),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.navigateByUrl(n.APP_ROUTE.WALLET_HISTORY))}),e.EFF(20),e.k0s()(),e.nrm(21,"ion-img",15),e.k0s()()()()()}if(2&i){const o=a.$implicit,t=e.XpG();e.R7$(8),e.SpI(" ",e.bMT(9,5,"PersonalWallet")," "),e.R7$(4),e.SpI("",e.bMT(13,7,"Balance"),":"),e.R7$(2),e.vxM(14,t.isShowBalance?14:15),e.R7$(2),e.vxM(16,o.IsVehicleVipWallet?16:-1),e.R7$(4),e.SpI(" ",null==t.user?null:t.user.FullName," ")}}function je(i,a){if(1&i){const o=e.RV6();e.j41(0,"span",16),e.EFF(1),e.k0s(),e.j41(2,"ion-icon",17),e.bIt("click",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&i){let o;const t=e.XpG(2);e.R7$(),e.SpI(" ",t.APP_FUNC_FormatMoney(null!==(o=null==t.wallet?null:t.wallet.WalletValue)&&void 0!==o?o:0),"\u0111 ")}}function Ie(i,a){if(1&i){const o=e.RV6();e.j41(0,"span",24),e.EFF(1,"*** ***"),e.k0s(),e.j41(2,"ion-icon",19),e.bIt("click",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}}function Te(i,a){if(1&i){const o=e.RV6();e.j41(0,"div",21)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",23)(10,"span",22),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,je,3,1)(14,Ie,3,0),e.k0s()()(),e.j41(15,"div",13)(16,"div")(17,"div",14),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.navigateByUrl(n.APP_ROUTE.WALLET_HISTORY))}),e.EFF(18),e.k0s()(),e.nrm(19,"ion-img",15),e.k0s()()()()()}if(2&i){const o=e.XpG();e.R7$(7),e.SpI(" ",e.bMT(8,4,"PersonalWallet")," "),e.R7$(4),e.SpI("",e.bMT(12,6,"Balance"),":"),e.R7$(2),e.vxM(13,o.isShowBalance?13:14),e.R7$(5),e.SpI(" ",null==o.user?null:o.user.FullName," ")}}let xe=(()=>{var i;class a{constructor(t){this.router=t,this.APP_ROUTE=R._,this.APP_FUNC_FormatMoney=b.xi,this.APP_FUNC_FormatDate=b.Rv,this.v_user_classify=$.If,this.readfile_url=C.c.readfile_url,this.isShowBalance=!1}ngOnInit(){this.refreshData()}refreshData(t){Promise.all([new Promise((n,l)=>{(0,P.z)({callback:r=>{var c;null!=r&&r.Succeeded&&(this.user=null!==(c=r.Data)&&void 0!==c?c:{}),n(r)}})}),new Promise((n,l)=>{ve({callback:r=>{null!=r&&r.Succeeded&&(this.wallet=r.Data),n(r)}})})]).then(n=>{t&&t()})}navigateByUrl(t){this.router.navigateByUrl(t)}toggleShowBalance(){var t=this;return(0,u.A)(function*(){t.isShowBalance=!t.isShowBalance})()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(U.Ix))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-wallet"]],decls:7,vars:1,consts:[["templateWalletCardVip",""],["templateWalletCardBasic",""],[1,"card-wallet","d-flex","align-items-center","justify-content-center"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-wallet-vip","w-480px","mw-100"],[1,"embed-responsive"],[1,"embed-responsive-item","d-flex","flex-column"],[1,"w-100","h-100","d-flex","flex-column"],[1,"flex-grow-1","d-flex","align-items-end"],[1,"px-4","py-2"],[1,"fs-12"],[1,"d-flex","align-items-center"],[1,"card-vehicle-vip","mt-1"],[1,"d-flex","align-items-center","justify-content-between","card-owner-box","px-4","py-2","min-h-60px"],[1,"fs-16","fw-600","text-uppercase","cursor-pointer",3,"click"],["src","../../../assets/image/logo-light.svg",1,"h-24px"],[1,"ml-3","min-h-24px"],["src","../../../assets/icon/ion-icon/eye.svg",1,"fs-16","cursor-pointer","ml-3",3,"click"],[1,"ml-3","min-h-24px","fs-12"],["src","../../../assets/icon/ion-icon/eye-off.svg",1,"fs-16","cursor-pointer","ml-3",3,"click"],[1,"fs-14","fw-600","vehicle-vin"],[1,"card-wallet-basic","w-480px","mw-100"],[1,"fs-14"],[1,"d-flex","align-items-center","min-h-32px"],[1,"ml-3","min-h-24px","fs-18"]],template:function(t,n){1&t&&(e.j41(0,"div",2),e.DNE(1,ye,1,5,"ng-container",3)(2,Ue,1,5),e.k0s(),e.DNE(3,Fe,22,9,"ng-template",null,0,e.C5r)(5,Te,20,8,"ng-template",null,1,e.C5r)),2&t&&(e.R7$(),e.vxM(1,(null==n.user?null:n.user.VUserClassify)==n.v_user_classify.TaiKhoanVIP?1:2))},dependencies:[g.T3,s.iq,s.KW,M.D9],styles:[".card-wallet[_ngcontent-%COMP%]   .embed-responsive[_ngcontent-%COMP%]:before{padding-top:62.5%}.card-wallet[_ngcontent-%COMP%]   .card-wallet-basic[_ngcontent-%COMP%]{background:url(card-basic.7bfc59e04473f77c.svg) no-repeat;background-size:contain;color:#fff;border-radius:1rem;overflow:hidden}.card-wallet[_ngcontent-%COMP%]   .card-wallet-basic[_ngcontent-%COMP%]   .card-owner-box[_ngcontent-%COMP%]{background:#027a48;color:#fff;margin:0 1px;border-radius:0 0 1rem 1rem}.card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]{background:url(card-vip.6b629719e1df315e.svg) no-repeat;background-size:contain;color:#fff;border-radius:1rem;overflow:hidden}.card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]   .card-owner-box[_ngcontent-%COMP%]{background:linear-gradient(92.01deg,#121212 .18%,#121212 29.68%,#272727 61.58%,#353535 103.62%);margin:0 1px;border-radius:0 0 1rem 1rem}.card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]   .card-owner-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]   .card-vehicle-vip[_ngcontent-%COMP%]   .vehicle-vin[_ngcontent-%COMP%]{background:linear-gradient(338.1deg,#fdd36f 33.93%,#c0982c,#f8cf50 57.97%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent}"]}),a})();function Oe(i,a){if(1&i){const o=e.RV6();e.j41(0,"ion-item",17),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.navigateByUrl(n.APP_ROUTE.CHARGING_RESERVATION))}),e.nrm(1,"ion-icon",19),e.j41(2,"ion-label"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&i&&(e.R7$(3),e.JRh(e.bMT(4,1,"ChargingReservation")))}function $e(i,a){if(1&i&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&i){const o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Company")),e.R7$(4),e.JRh(null==o.ownerCompany?null:o.ownerCompany.CompanyName)}}function we(i,a){if(1&i&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&i){const o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Tax")),e.R7$(4),e.JRh(null==o.ownerCompany?null:o.ownerCompany.TaxCode)}}function Ee(i,a){if(1&i&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&i){const o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"LicenseDate")),e.R7$(4),e.JRh(null==o.ownerCompany?null:o.ownerCompany.LicenseDate)}}function Ve(i,a){if(1&i&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&i){const o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Address")),e.R7$(4),e.JRh(null==o.ownerCompany?null:o.ownerCompany.Address)}}function Ne(i,a){if(1&i&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"a",36),e.EFF(6),e.k0s()()()),2&i){const o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Email")),e.R7$(3),e.Y8G("href","mailto:"+(null==o.ownerCompany?null:o.ownerCompany.Email),e.B4B),e.R7$(),e.SpI(" ",null==o.ownerCompany?null:o.ownerCompany.Email," ")}}function Ge(i,a){if(1&i&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b")(6,"a",36),e.EFF(7),e.k0s()()()()),2&i){const o=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Hotline")),e.R7$(4),e.Y8G("href","tel:"+o.APP_FUNC_FormatTel(null==o.ownerCompany?null:o.ownerCompany.Hotline),e.B4B),e.R7$(),e.SpI(" ",o.APP_FUNC_FormatMobileNumber(null==o.ownerCompany?null:o.ownerCompany.Hotline)," ")}}function Be(i,a){if(1&i){const o=e.RV6();e.j41(0,"div",37)(1,"div",38)(2,"h4",39),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",40),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",41)(9,"div",42)(10,"ion-button",43),e.bIt("click",function(){e.eBV(o),e.XpG();const n=e.sdS(129);return e.Njj(null==n?null:n.dismiss())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",44)(14,"ion-button",45),e.bIt("click",function(n){e.eBV(o);const l=e.XpG(),r=e.sdS(129);return null==r||r.dismiss(),e.Njj(l.signOut(n))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()}2&i&&(e.R7$(3),e.JRh(e.bMT(4,4,"SignOut")),e.R7$(3),e.JRh(e.bMT(7,6,"SignOut_Confirm")),e.R7$(5),e.SpI(" ",e.bMT(12,8,"Cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(16,10,"Confirm")," "))}const Se=[{path:"",component:(()=>{var i;class a{constructor(t,n,l,r,c,p){this.router=t,this.titleService=n,this.translateService=l,this.loadingController=r,this.toastController=c,this.modalController=p,this.isAppTest=C.c.apptest,this.APP_ROUTE=R._,this.readfile_url=C.c.readfile_url,this.params={},this.APP_FUNC_FormatMobileNumber=b.IV,this.APP_FUNC_FormatTel=b.YH}ngOnInit(){var t=this;(0,u.A)(function*(){(yield(0,T.kU)())&&t.refreshData()})()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}refreshData(t){var n=this;return(0,u.A)(function*(){(0,P.z)({loadingController:n.loadingController,callback:l=>{var r,c,p;null!=l&&l.Succeeded?(n.user=null!==(r=l.Data)&&void 0!==r?r:{},null!==(c=n.user)&&void 0!==c&&c.FullName?n.titleService.setTitle(null===(p=n.user)||void 0===p?void 0:p.FullName):n.translateService.stream("Account").subscribe(_=>{n.titleService.setTitle(_)})):(0,m.cX)(n.toastController,{},l).then(_=>_.present()),t&&t()}}),G({callback:l=>{null!=l&&l.Succeeded&&(n.ownerCompany=(l.Data||[]).at(0))}})})()}signOut(t){return(0,u.A)(function*(){yield(0,N.SD)(),(0,V.wn)({callback:()=>{window.location.replace(R._.AUTH)}})})()}changeAvatar(t){var n=this;return(0,u.A)(function*(){(0,O.$)({modalController:n.modalController,toastController:n.toastController},function(){var l=(0,u.A)(function*(r){if(r.length){let c=yield n.modalController.create({component:x.A,componentProps:{file:r[0]},backdropDismiss:!0,keyboardClose:!0});c.onDidDismiss().then(function(){var p=(0,u.A)(function*(_){"submit"==_.role&&_.data&&(0,I.v)({loadingController:n.loadingController,params:{file:_.data,subFolder:"avatar",fileType:"image"},callback:f=>{var F;0==(null==f?void 0:f.ReturnCode)?(0,P.sh)({loadingController:n.loadingController,params:{UserId:null===(F=n.user)||void 0===F?void 0:F.UserId,Avatar:`${f.path}/${f.file.name}`},callback:v=>{null!=v&&v.Succeeded?n.refreshData():(0,m.cX)(n.toastController,{},v).then(Ye=>Ye.present())}}):(0,m.cX)(n.toastController,{},f).then(v=>v.present())}})});return function(_){return p.apply(this,arguments)}}()),c.present()}});return function(r){return l.apply(this,arguments)}}())})()}navigateByUrl(t){var n=this;return(0,u.A)(function*(){n.router.navigateByUrl(t)})()}presentModalUserClassifyHistory(t){var n=this;return(0,u.A)(function*(){null==t||t.preventDefault(),(yield n.modalController.create({component:Z})).present()})()}presentModalUserClassify(t){var n=this;return(0,u.A)(function*(){null==t||t.preventDefault();let l=yield n.modalController.create({component:ge,backdropDismiss:!1});l.onDidDismiss().then(r=>{"success"==r.role&&n.refreshData()}),l.present()})()}}return(i=a).\u0275fac=function(t){return new(t||i)(e.rXU(U.Ix),e.rXU(Ce.hE),e.rXU(M.c$),e.rXU(s.Xi),e.rXU(s.K_),e.rXU(s.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-user"]],decls:132,vars:71,consts:[["modalSignOut",""],["color","primary"],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"container","my-3"],["mode","ios","lines","none"],["button","","detail","true","detail-icon","chevron-forward-outline",3,"click"],["slot","start",1,"w-50px","h-50px",3,"click"],["alt","",3,"src"],["color","primary",1,"fw-600"],[1,"mt-1"],["color","medium",1,"fs-14"],["button","","detail","false","color","light","detail-icon","chevron-forward-outline",3,"click"],["slot","start","color","warning","name","rocket-outline",1,"fs-24"],["slot","end","color","secondary",3,"click"],["button","","detail","true","color","light","detail-icon","chevron-forward-outline",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/vehicle-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/bill-circle.svg",1,"fs-24"],["button","","detail","true","color","light","detail-icon","chevron-forward-outline"],["slot","start","src","../../../assets/icon/ion-icon/payment-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/setting-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/feedback-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/chat-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/book-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/persons-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/book-open-circle.svg",1,"fs-24"],[1,"container","card-company","bg-white","rounded"],[1,"table","table-borderless","m-0"],[4,"ngIf"],[1,"mt-3"],["mode","ios","color","light","expand","block","id","click-trigger-modal-signout",1,"btn-sign-out"],["slot","start","color","primary","src","../../../assets/icon/ion-icon/sign-out.svg",1,"fs-24"],["trigger","click-trigger-modal-signout",1,"ion-modal-small"],[1,"text-muted"],[1,"text-dark",3,"href"],[1,"p-4"],[1,"text-center"],[1,"mb-2"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["fill","outline","color","medium","expand","block","shape","round",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click"]],template:function(t,n){if(1&t){const l=e.RV6();e.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2),e.nrm(3,"ion-back-button",3),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-content",4)(8,"ion-refresher",5),e.bIt("ionRefresh",function(c){return e.eBV(l),e.Njj(n.onIonRefresher(c))}),e.nrm(9,"ion-refresher-content"),e.k0s(),e.j41(10,"div",6),e.nrm(11,"app-wallet"),e.k0s(),e.j41(12,"div",6)(13,"ion-list",7)(14,"ion-item",8),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.USER_INFO))}),e.j41(15,"ion-avatar",9),e.bIt("click",function(c){return e.eBV(l),c.stopPropagation(),e.Njj(n.changeAvatar(c))}),e.nrm(16,"img",10),e.k0s(),e.j41(17,"ion-label")(18,"ion-text",11),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.j41(21,"div",12)(22,"ion-text",13),e.EFF(23),e.k0s()()()()(),e.j41(24,"ion-list",7)(25,"ion-item",14),e.bIt("click",function(c){return e.eBV(l),e.Njj(n.presentModalUserClassify(c))}),e.nrm(26,"ion-icon",15),e.j41(27,"ion-label"),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"ion-button",16),e.bIt("click",function(c){return e.eBV(l),c.stopPropagation(),e.Njj(n.presentModalUserClassifyHistory(c))}),e.j41(31,"ion-label"),e.EFF(32),e.nI1(33,"translate"),e.k0s()()()(),e.j41(34,"ion-list",7)(35,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.VEHICLE))}),e.nrm(36,"ion-icon",18),e.j41(37,"ion-label"),e.EFF(38),e.nI1(39,"translate"),e.k0s()(),e.j41(40,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.CUSTOMER_INVOICE))}),e.nrm(41,"ion-icon",19),e.j41(42,"ion-label"),e.EFF(43),e.nI1(44,"translate"),e.k0s()()(),e.j41(45,"ion-list",7),e.DNE(46,Oe,5,3,"ion-item",20),e.j41(47,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.ORDER_INFO))}),e.nrm(48,"ion-icon",19),e.j41(49,"ion-label"),e.EFF(50),e.nI1(51,"translate"),e.k0s()(),e.j41(52,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.WALLET_HISTORY))}),e.nrm(53,"ion-icon",21),e.j41(54,"ion-label"),e.EFF(55),e.nI1(56,"translate"),e.k0s()()(),e.j41(57,"ion-list",7)(58,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.SETTING))}),e.nrm(59,"ion-icon",22),e.j41(60,"ion-label"),e.EFF(61),e.nI1(62,"translate"),e.k0s()(),e.j41(63,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.FEEDBACK))}),e.nrm(64,"ion-icon",23),e.j41(65,"ion-label"),e.EFF(66),e.nI1(67,"translate"),e.k0s()(),e.j41(68,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.SUPPORT))}),e.nrm(69,"ion-icon",24),e.j41(70,"ion-label"),e.EFF(71),e.nI1(72,"translate"),e.k0s()(),e.j41(73,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.HELP))}),e.nrm(74,"ion-icon",25),e.j41(75,"ion-label"),e.EFF(76),e.nI1(77,"translate"),e.k0s()()(),e.j41(78,"ion-list",7)(79,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.ABOUT_US))}),e.nrm(80,"ion-icon",26),e.j41(81,"ion-label"),e.EFF(82),e.nI1(83,"translate"),e.k0s()(),e.j41(84,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.TERMS_AND_CONDITION))}),e.nrm(85,"ion-icon",27),e.j41(86,"ion-label"),e.EFF(87),e.nI1(88,"translate"),e.k0s()(),e.j41(89,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.PAYMENT_POLICY))}),e.nrm(90,"ion-icon",27),e.j41(91,"ion-label"),e.EFF(92),e.nI1(93,"translate"),e.k0s()(),e.j41(94,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.PRIVACY_POLICY))}),e.nrm(95,"ion-icon",27),e.j41(96,"ion-label"),e.EFF(97),e.nI1(98,"translate"),e.k0s()(),e.j41(99,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.WARRANTY_POLICY))}),e.nrm(100,"ion-icon",27),e.j41(101,"ion-label"),e.EFF(102),e.nI1(103,"translate"),e.k0s()(),e.j41(104,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.COMPLAINT_RESOLUTION_POLICY))}),e.nrm(105,"ion-icon",27),e.j41(106,"ion-label"),e.EFF(107),e.nI1(108,"translate"),e.k0s()(),e.j41(109,"ion-item",17),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.PRICE_POLICY))}),e.nrm(110,"ion-icon",27),e.j41(111,"ion-label"),e.EFF(112),e.nI1(113,"translate"),e.k0s()()(),e.j41(114,"div",28)(115,"table",29),e.DNE(116,$e,7,4,"tr",30)(117,we,7,4,"tr",30)(118,Ee,7,4,"tr",30)(119,Ve,7,4,"tr",30)(120,Ne,7,5,"tr",30)(121,Ge,8,5,"tr",30),e.k0s()(),e.j41(122,"div",31)(123,"ion-button",32),e.nrm(124,"ion-icon",33),e.j41(125,"ion-label",1),e.EFF(126),e.nI1(127,"translate"),e.k0s()()()(),e.j41(128,"ion-modal",34,0),e.DNE(130,Be,17,12,"ng-template"),e.k0s()(),e.nrm(131,"app-footer-tabs")}if(2&t){let l;e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.DEFAULT),e.R7$(2),e.JRh(e.bMT(6,31,"UserInfo")),e.R7$(2),e.Y8G("fullscreen",!0),e.R7$(9),e.Y8G("src",null!=n.user&&n.user.Avatar?n.readfile_url+(null==n.user?null:n.user.Avatar):"assets/icon/ion-img/no-avatar.svg",e.B4B),e.R7$(3),e.SpI(" ",null!==(l=null==n.user?null:n.user.FullName)&&void 0!==l?l:e.bMT(20,33,"NotUpdate")," "),e.R7$(4),e.SpI(" ",null==n.user?null:n.user.UserClassifyName," "),e.R7$(5),e.JRh(e.bMT(29,35,"UpgradeAccount")),e.R7$(4),e.JRh(e.bMT(33,37,"History")),e.R7$(6),e.JRh(e.bMT(39,39,"Vehicle")),e.R7$(5),e.JRh(e.bMT(44,41,"ExportBillInfo")),e.R7$(3),e.vxM(46,n.isAppTest?46:-1),e.R7$(4),e.JRh(e.bMT(51,43,"OrderHistory")),e.R7$(5),e.JRh(e.bMT(56,45,"TransactionHistory")),e.R7$(6),e.JRh(e.bMT(62,47,"Setting")),e.R7$(5),e.JRh(e.bMT(67,49,"SendFeedback")),e.R7$(5),e.JRh(e.bMT(72,51,"FAQ")),e.R7$(5),e.JRh(e.bMT(77,53,"UseManual")),e.R7$(6),e.JRh(e.bMT(83,55,"AboutUs")),e.R7$(5),e.JRh(e.bMT(88,57,"TermsAndCondition")),e.R7$(5),e.JRh(e.bMT(93,59,"PaymentPolicy")),e.R7$(5),e.JRh(e.bMT(98,61,"PrivacyPolicy")),e.R7$(5),e.JRh(e.bMT(103,63,"WarrantyPolicy")),e.R7$(5),e.JRh(e.bMT(108,65,"ComplaintResolutionPolicy")),e.R7$(5),e.JRh(e.bMT(113,67,"PricePolicy")),e.R7$(4),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.CompanyName),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.TaxCode),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.LicenseDate),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.Address),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.Email),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.Hotline),e.R7$(5),e.JRh(e.bMT(127,69,"SignOut"))}},dependencies:[g.bT,s.mC,s.Jm,s.QW,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.To,s.Ki,s.IO,s.BC,s.ai,s.Sb,s.el,he.x,xe,M.D9],styles:[".card-info[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{padding:3rem 1rem;background-color:var(--ion-color-primary);background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:center center;background-size:auto 200%}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{position:relative;z-index:1;width:7rem}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:7rem;height:7rem;border:.125rem solid var(--ion-color-light);background-color:var(--ion-color-light)}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]{position:absolute;z-index:2;bottom:0;right:0}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: 50%}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-dark-tint)}.card-info[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;--border-radius: 50%;margin:auto;cursor:pointer}ion-list[_ngcontent-%COMP%]{padding:.5rem 0;margin:.5rem 0 1rem;border-radius:1rem;box-shadow:0 .125rem .5rem #00000026;background:var(--ion-color-light)!important}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 3rem}.btn-sign-out[_ngcontent-%COMP%]{--box-shadow: 0 .125rem .5rem rgba(0, 0, 0, .15)}.card-company[_ngcontent-%COMP%]{padding:1rem}.card-company.rounded[_ngcontent-%COMP%]{border-radius:.5rem!important}.card-company[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important;margin:.5rem 0}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}"]}),a})()}];let Xe=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[U.iI.forChild(Se),U.iI]}),a})();var Ae=d(3890),We=d(4342);let De=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[g.MD,s.bv,We.LP]}),a})(),He=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[g.MD,y.YN,s.bv,Xe,Ae.x,De]}),a})()}}]);