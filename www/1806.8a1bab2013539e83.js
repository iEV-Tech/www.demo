"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1806],{5970:(y,g,p)=>{p.d(g,{$J:()=>e,NT:()=>c,Ul:()=>b,Wu:()=>_,kT:()=>h});var d=p(467),I=p(6037);const b=function(){var C=(0,d.A)(function*(o){var i,m;o.params=o.params||{},(0,I.hm)({url:"api/CustomerInvoice/get-customerinvoices",params:{PageNumber:null!==(i=o.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(m=o.params.PageSize)&&void 0!==m?m:10},success:r=>{"function"==typeof o.callback&&o.callback(r.data||null)},error:r=>{var s;"function"==typeof o.callback&&o.callback(null==r||null===(s=r.response)||void 0===s?void 0:s.data),console.error(r)},loading:o.loading,loadingController:o.loadingController})});return function(i){return C.apply(this,arguments)}}(),h=function(){var C=(0,d.A)(function*(o){o.params=o.params||{},(0,I.hm)({url:`api/CustomerInvoice/get/${o.params.CustomerInvoiceId}`,success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var m;"function"==typeof o.callback&&o.callback(null==i||null===(m=i.response)||void 0===m?void 0:m.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return C.apply(this,arguments)}}(),_=function(){var C=(0,d.A)(function*(o){var i,m,r,s,u,l,n,a;o.params=o.params||{},(0,I.Ll)({url:"api/CustomerInvoice/create",params:{IsCompany:null!==(i=o.params.IsCompany)&&void 0!==i?i:null,TaxCode:null!==(m=o.params.TaxCode)&&void 0!==m?m:null,CompanyName:null!==(r=o.params.CompanyName)&&void 0!==r?r:null,Address:null!==(s=o.params.Address)&&void 0!==s?s:null,BuyerName:null!==(u=o.params.BuyerName)&&void 0!==u?u:null,BuyerPhone:null!==(l=o.params.BuyerPhone)&&void 0!==l?l:null,BuyerEmail:null!==(n=o.params.BuyerEmail)&&void 0!==n?n:null,IsDefault:null!==(a=o.params.IsDefault)&&void 0!==a?a:null},success:t=>{"function"==typeof o.callback&&o.callback(t.data||null)},error:t=>{var v;"function"==typeof o.callback&&o.callback(null==t||null===(v=t.response)||void 0===v?void 0:v.data),console.error(t)},loading:o.loading,loadingController:o.loadingController})});return function(i){return C.apply(this,arguments)}}(),e=function(){var C=(0,d.A)(function*(o){var i,m,r,s,u,l,n,a,t;o.params=o.params||{},(0,I.IH)({url:"api/CustomerInvoice/update",params:{CustomerInvoiceId:null!==(i=o.params.CustomerInvoiceId)&&void 0!==i?i:null,IsCompany:null!==(m=o.params.IsCompany)&&void 0!==m?m:null,TaxCode:null!==(r=o.params.TaxCode)&&void 0!==r?r:null,CompanyName:null!==(s=o.params.CompanyName)&&void 0!==s?s:null,Address:null!==(u=o.params.Address)&&void 0!==u?u:null,BuyerName:null!==(l=o.params.BuyerName)&&void 0!==l?l:null,BuyerPhone:null!==(n=o.params.BuyerPhone)&&void 0!==n?n:null,BuyerEmail:null!==(a=o.params.BuyerEmail)&&void 0!==a?a:null,IsDefault:null!==(t=o.params.IsDefault)&&void 0!==t?t:null},success:v=>{"function"==typeof o.callback&&o.callback(v.data||null)},error:v=>{var f;"function"==typeof o.callback&&o.callback(null==v||null===(f=v.response)||void 0===f?void 0:f.data),console.error(v)},loading:o.loading,loadingController:o.loadingController})});return function(i){return C.apply(this,arguments)}}(),c=function(){var C=(0,d.A)(function*(o){o.params=o.params||{},(0,I.sj)({url:`api/CustomerInvoice/delete/${o.params.CustomerInvoiceId}`,params:{},success:i=>{"function"==typeof o.callback&&o.callback(i.data||null)},error:i=>{var m;"function"==typeof o.callback&&o.callback(null==i||null===(m=i.response)||void 0===m?void 0:m.data),console.error(i)},loading:o.loading,loadingController:o.loadingController})});return function(i){return C.apply(this,arguments)}}()},1806:(y,g,p)=>{p.d(g,{$:()=>m});var d=p(467),I=p(6037);const b=function(){var r=(0,d.A)(function*(s){s.params=s.params||{},(0,I.hm)({url:`api/CompanyLookup/get/${s.params.TaxCode}`,success:u=>{"function"==typeof s.callback&&s.callback(u.data||null)},error:u=>{var l;"function"==typeof s.callback&&s.callback(null==u||null===(l=u.response)||void 0===l?void 0:l.data),console.error(u)},loading:s.loading,loadingController:s.loadingController})});return function(u){return r.apply(this,arguments)}}();var h=p(5970),_=p(8650),e=p(4438),c=p(9420),C=p(4842);function o(r,s){if(1&r){const u=e.RV6();e.j41(0,"div",8)(1,"label"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span",11),e.EFF(5,"*"),e.k0s()(),e.j41(6,"div",12)(7,"ion-item")(8,"ion-input",14),e.nI1(9,"translate"),e.bIt("ionChange",function(n){e.eBV(u);const a=e.XpG();return e.Njj(a.changeCompanyName(n))}),e.k0s()()()(),e.j41(10,"div",8)(11,"label"),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"div",12)(15,"ion-item")(16,"ion-input",14),e.nI1(17,"translate"),e.bIt("ionChange",function(n){e.eBV(u);const a=e.XpG();return e.Njj(a.changeBuyerName(n))}),e.k0s()()()()}if(2&r){const u=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,6,"BillCompanyName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(9,8,"BillCompanyName")),e.Y8G("value",u.customerInvoice.CompanyName),e.R7$(4),e.SpI(" ",e.bMT(13,10,"BillBuyerName")," "),e.R7$(4),e.FS9("placeholder",e.bMT(17,12,"BillBuyerName")),e.Y8G("value",u.customerInvoice.BuyerName)}}function i(r,s){if(1&r){const u=e.RV6();e.j41(0,"div",8)(1,"label"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"span",11),e.EFF(5,"*"),e.k0s()(),e.j41(6,"div",12)(7,"ion-item")(8,"ion-input",14),e.nI1(9,"translate"),e.bIt("ionChange",function(n){e.eBV(u);const a=e.XpG();return e.Njj(a.changeBuyerName(n))}),e.k0s()()()()}if(2&r){const u=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"FullName")," "),e.R7$(6),e.FS9("placeholder",e.bMT(9,5,"FullName")),e.Y8G("value",u.customerInvoice.BuyerName)}}let m=(()=>{var r;class s{constructor(l,n,a){this.modalController=l,this.loadingController=n,this.toastController=a,this.customerInvoice={IsCompany:!1}}ngOnInit(){this.refreshData()}onIonRefresher(l){this.refreshData(()=>{l.target.complete()})}refreshData(l){var n=this;return(0,d.A)(function*(){n.CustomerInvoiceId?(0,h.kT)({loadingController:n.loadingController,params:{CustomerInvoiceId:n.CustomerInvoiceId},callback:a=>{var t;n.response=a,null!=a&&a.Succeeded?n.customerInvoice=null!==(t=a.Data)&&void 0!==t?t:{}:(0,_.cX)(n.toastController,{},a).then(v=>v.present()),l&&l()}}):l&&l()})()}close(l){var n=this;return(0,d.A)(function*(){n.modalController.dismiss(null,"cancel")})()}get submit_disabled(){return!(this.customerInvoice.TaxCode&&(!this.customerInvoice.IsCompany||this.customerInvoice.CompanyName)&&(this.customerInvoice.IsCompany||this.customerInvoice.BuyerName)&&this.customerInvoice.Address)}submit(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.CustomerInvoiceId?(0,h.$J)({loadingController:n.loadingController,params:n.customerInvoice,callback:a=>{n.response=a,null!=a&&a.Succeeded?n.modalController.dismiss(null,"success"):(0,_.cX)(n.toastController,{},a).then(t=>t.present())}}):(0,h.Wu)({loadingController:n.loadingController,params:n.customerInvoice,callback:a=>{n.response=a,null!=a&&a.Succeeded?n.modalController.dismiss(null,"success"):(0,_.cX)(n.toastController,{},a).then(t=>t.present())}})})()}changeBuyerPhone(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerPhone=l.detail.value})()}changeBuyerEmail(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerEmail=l.detail.value})()}changeCompanyName(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.CompanyName=l.detail.value})()}changeBuyerName(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.BuyerName=l.detail.value})()}changeAddress(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.Address=l.detail.value})()}changeTaxCode(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.TaxCode=l.detail.value,b({params:{TaxCode:n.customerInvoice.TaxCode},callback:a=>{if(null!=a&&a.Succeeded){let f=null==a?void 0:a.Data;var t,v;f&&(n.customerInvoice.CompanyName=null!==(t=f.Name)&&void 0!==t?t:n.customerInvoice.CompanyName,n.customerInvoice.Address=null!==(v=f.Address)&&void 0!==v?v:n.customerInvoice.Address)}}})})()}changeIsCompany(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.IsCompany=l.detail.value})()}changeIsDefault(l){var n=this;return(0,d.A)(function*(){n.customerInvoice.IsDefault=l.detail.checked})()}}return(r=s).\u0275fac=function(l){return new(l||r)(e.rXU(c.W3),e.rXU(c.Xi),e.rXU(c.K_))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-modal-add-customer-invoice"]],inputs:{CustomerInvoiceId:"CustomerInvoiceId"},decls:78,vars:52,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],[1,"card-info","bg-white","container","py-3","min-h-100"],[1,"text-center","mb-3"],[1,"text-muted"],["lines","none"],[1,"form-group"],[3,"ionChange","value"],["labelPlacement","end",3,"value"],[1,"text-danger"],[1,"ion-item-input"],["type","number","inputmode","decimal",3,"ionChange","placeholder","value"],[3,"ionChange","placeholder","value"],[1,"row"],["labelPlacement","end","justify","start",3,"ionChange","checked"],[1,"p-3"],["color","primary","shape","round","expand","block",3,"click","disabled"]],template:function(l,n){1&l&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(t){return n.close(t)}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",3),e.bIt("ionRefresh",function(t){return n.onIonRefresher(t)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.j41(11,"div",4)(12,"div",5)(13,"small",6),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"ion-list",7)(17,"div",8)(18,"ion-radio-group",9),e.bIt("ionChange",function(t){return n.changeIsCompany(t)}),e.j41(19,"ion-radio",10)(20,"ion-label"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"ion-radio",10)(24,"ion-label"),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()(),e.j41(27,"div",8)(28,"label"),e.EFF(29),e.nI1(30,"translate"),e.j41(31,"span",11),e.EFF(32,"*"),e.k0s()(),e.j41(33,"div",12)(34,"ion-item")(35,"ion-input",13),e.nI1(36,"translate"),e.bIt("ionChange",function(t){return n.changeTaxCode(t)}),e.k0s()()()(),e.DNE(37,o,18,14)(38,i,10,7),e.j41(39,"div",8)(40,"label"),e.EFF(41),e.nI1(42,"translate"),e.j41(43,"span",11),e.EFF(44,"*"),e.k0s()(),e.j41(45,"div",12)(46,"ion-item")(47,"ion-input",14),e.nI1(48,"translate"),e.bIt("ionChange",function(t){return n.changeAddress(t)}),e.k0s()()()(),e.j41(49,"div",8)(50,"label"),e.EFF(51),e.nI1(52,"translate"),e.k0s(),e.j41(53,"div",12)(54,"ion-item")(55,"ion-input",14),e.nI1(56,"translate"),e.bIt("ionChange",function(t){return n.changeBuyerEmail(t)}),e.k0s()()()(),e.j41(57,"div",8)(58,"label"),e.EFF(59),e.nI1(60,"translate"),e.k0s(),e.j41(61,"div",12)(62,"ion-item")(63,"ion-input",14),e.nI1(64,"translate"),e.bIt("ionChange",function(t){return n.changeBuyerPhone(t)}),e.k0s()()()(),e.j41(65,"div",8)(66,"div",15)(67,"ion-item")(68,"ion-checkbox",16),e.bIt("ionChange",function(t){return n.changeIsDefault(t)}),e.j41(69,"small")(70,"b"),e.EFF(71),e.nI1(72,"translate"),e.k0s()()()()()()()()(),e.j41(73,"ion-footer")(74,"div",17)(75,"ion-button",18),e.bIt("click",function(t){return n.submit(t)}),e.EFF(76),e.nI1(77,"translate"),e.k0s()()()),2&l&&(e.R7$(6),e.JRh(e.bMT(7,24,"CustomerInvoice")),e.R7$(8),e.SpI(" ",e.bMT(15,26,"CustomerInvoiceDescription")," "),e.R7$(4),e.Y8G("value",!!n.customerInvoice.IsCompany),e.R7$(),e.Y8G("value",!1),e.R7$(2),e.JRh(e.bMT(22,28,"Personal")),e.R7$(2),e.Y8G("value",!0),e.R7$(2),e.JRh(e.bMT(26,30,"CompanyInvoice")),e.R7$(4),e.SpI(" ",e.bMT(30,32,"BillTax")," "),e.R7$(6),e.FS9("placeholder",e.bMT(36,34,"BillTax")),e.Y8G("value",n.customerInvoice.TaxCode),e.R7$(2),e.vxM(37,n.customerInvoice.IsCompany?37:38),e.R7$(4),e.SpI(" ",e.bMT(42,36,"BillAddress")," "),e.R7$(6),e.FS9("placeholder",e.bMT(48,38,"BillAddress")),e.Y8G("value",n.customerInvoice.Address),e.R7$(4),e.JRh(e.bMT(52,40,"Email")),e.R7$(4),e.FS9("placeholder",e.bMT(56,42,"Email")),e.Y8G("value",n.customerInvoice.BuyerEmail),e.R7$(4),e.JRh(e.bMT(60,44,"Mobile")),e.R7$(4),e.FS9("placeholder",e.bMT(64,46,"Mobile")),e.Y8G("value",n.customerInvoice.BuyerPhone),e.R7$(5),e.Y8G("checked",!!n.customerInvoice.IsDefault),e.R7$(3),e.JRh(e.bMT(72,48,"CustomerInvoiceDefault")),e.R7$(4),e.Y8G("disabled",n.submit_disabled),e.R7$(),e.SpI(" ",e.bMT(77,50,"Save")," "))},dependencies:[c.Jm,c.QW,c.eY,c.W9,c.M0,c.eU,c.iq,c.$w,c.uz,c.he,c.nf,c.KO,c.f0,c.To,c.Ki,c.BC,c.ai,c.hB,c.su,c.Je,c.Gw,C.D9],styles:["ion-list[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}ion-list[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:.25rem;border:2px solid var(--ion-color-primary)}.card-info[_ngcontent-%COMP%]{border-top-left-radius:1.5rem;border-top-right-radius:1.5rem}ion-radio-group[_ngcontent-%COMP%]   ion-radio[_ngcontent-%COMP%] + ion-radio[_ngcontent-%COMP%]{margin-left:1.5rem}"]}),s})()}}]);