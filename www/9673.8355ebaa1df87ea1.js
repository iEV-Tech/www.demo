"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9673],{9673:(ze,j,d)=>{d.r(j),d.d(j,{UserPageModule:()=>Je});var g=d(177),y=d(9417),s=d(3092),b=d(7625),p=d(467),$=d(23),I=d(1038),k=d(9946),T=d(6539),h=d(8517),R=d(8833),C=d(5312),m=d(8650),N=d(4393),x=d(6171),O=d(584),P=d(6037);const G=function(){var o=(0,p.A)(function*(a){var i,t;a.params=a.params||{},(0,P.hm)({url:"api/OwnerCompany/get-ownercompany",params:{PageNumber:null!==(i=a.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(t=a.params.PageSize)&&void 0!==t?t:10},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var l;"function"==typeof a.callback&&a.callback(null==n||null===(l=n.response)||void 0===l?void 0:l.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(i){return o.apply(this,arguments)}}(),S=function(){var o=(0,p.A)(function*(a){var i,t;a.params=a.params||{},(0,P.hm)({url:"api/UserClassifyHistory/get-history",params:{PageNumber:null!==(i=a.params.PageNumber)&&void 0!==i?i:1,PageSize:null!==(t=a.params.PageSize)&&void 0!==t?t:10},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{var l;"function"==typeof a.callback&&a.callback(null==n||null===(l=n.response)||void 0===l?void 0:l.data),console.error(n)},loading:a.loading,loadingController:a.loadingController})});return function(i){return o.apply(this,arguments)}}();var V=d(3588),e=d(4438),M=d(4842);const B=()=>[];function X(o,a){1&o&&(e.j41(0,"div",9),e.nrm(1,"img",10),e.j41(2,"div",11),e.EFF(3),e.nI1(4,"translate"),e.k0s()()),2&o&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"NoAccountUpgradeHistory")," "))}function A(o,a){if(1&o&&(e.j41(0,"div",22),e.EFF(1),e.k0s()),2&o){const i=e.XpG().$implicit;e.R7$(),e.SpI(" ",i.Reason," ")}}function D(o,a){1&o&&(e.j41(0,"div",23),e.nrm(1,"ion-icon",24),e.k0s())}function H(o,a){if(1&o&&(e.j41(0,"ion-thumbnail",31),e.nrm(1,"img",32),e.k0s()),2&o){const i=e.XpG(2).$implicit,t=e.XpG(3);e.R7$(),e.Y8G("src",t.readfile_url+i.UcValue,e.B4B)}}function W(o,a){if(1&o&&(e.j41(0,"td"),e.DNE(1,H,2,1,"ion-thumbnail",30),e.k0s()),2&o){const i=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf",i.UcValue)}}function Y(o,a){if(1&o&&(e.j41(0,"td"),e.EFF(1),e.k0s()),2&o){const i=e.XpG().$implicit;e.R7$(),e.JRh(i.UcValue)}}function J(o,a){if(1&o&&(e.j41(0,"tr",28)(1,"td",29),e.EFF(2),e.k0s(),e.DNE(3,W,2,1,"td")(4,Y,2,1),e.k0s()),2&o){const i=a.$implicit;e.R7$(2),e.JRh(i.UcCode),e.R7$(),e.vxM(3,"filepath"==i.DataType?3:4)}}function L(o,a){if(1&o&&(e.j41(0,"div",25)(1,"table",26),e.DNE(2,J,5,2,"tr",27),e.k0s()()),2&o){let i;const t=e.XpG().$implicit;e.R7$(2),e.Y8G("ngForOf",null!==(i=t.UserClassifyUpgradeValues)&&void 0!==i?i:e.lJ4(1,B))}}function z(o,a){if(1&o&&(e.j41(0,"div",7)(1,"ion-accordion",12)(2,"div",13)(3,"div",14)(4,"b"),e.EFF(5),e.k0s(),e.j41(6,"ion-text",15),e.EFF(7),e.k0s()(),e.j41(8,"div",16)(9,"small",17),e.EFF(10),e.k0s(),e.j41(11,"small",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.DNE(14,A,2,1,"div",19)(15,D,2,0,"div",20),e.k0s(),e.DNE(16,L,3,2,"div",21),e.k0s()()),2&o){let i;const t=a.$implicit,n=e.XpG();e.R7$(),e.Y8G("value",t.UserClassifyHistoryId),e.R7$(4),e.JRh(t.UserClassifyName),e.R7$(),e.Y8G("color",n.v_user_classify_status.color(t.VUserClassifyStatus)),e.R7$(),e.SpI(" ",t.VUserClassifyStatusName," "),e.R7$(3),e.SpI(" ",n.APP_FUNC_FormatDate(t.CreatedDate)," "),e.R7$(2),e.SpI(" ",e.bMT(13,9,null!==(i=t.CreatedByFullname)&&void 0!==i?i:"")," "),e.R7$(2),e.Y8G("ngIf",t.Reason),e.R7$(),e.Y8G("ngIf",null==t.UserClassifyUpgradeValues?null:t.UserClassifyUpgradeValues.length),e.R7$(),e.Y8G("ngIf",null==t.UserClassifyUpgradeValues?null:t.UserClassifyUpgradeValues.length)}}function K(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-infinite-scroll",33),e.bIt("ionInfinite",function(n){e.eBV(i);const l=e.XpG();return e.Njj(l.onIonInfinite(n))}),e.nrm(1,"ion-infinite-scroll-content"),e.k0s()}}let Z=(()=>{var o;class a{constructor(t,n,l,r){this.router=t,this.loadingController=n,this.toastController=l,this.modalController=r,this.APP_FUNC_FormatDate=h.Rv,this.readfile_url=C.c.readfile_url,this.paging={sortfield:null,sorttype:null,page:1,limit:20,loading:!1,active:!0},this.filter={},this.userClassifyHistories=[],this.v_user_classify_status=V.HM,this.limitLoad=0}ngOnInit(){var t=this;(0,p.A)(function*(){(yield(0,T.kU)())&&t.refreshData()})()}modalClose(){this.modalController.dismiss()}onIonRefresher(t){this.filter={},this.refreshData(()=>{t.target.complete()})}onIonInfinite(t){this.loadMore(()=>{t.target.complete()})}pushData(t){1==this.paging.page&&(this.userClassifyHistories.length=0),this.userClassifyHistories=this.userClassifyHistories.concat(t)}refreshData(t){this.filter={},this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit(t)}loadMore(t){this.paging.page+=1,this.loadData_Paging_Limit(t)}searchChange(t){this.filter.search=t.target.value.replace(/\s+/g," ").trim(),this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}sortChange(t,n){this.paging.sortfield=t||null,this.paging.sorttype=n||null,this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}filterChange(){this.paging.page=1,this.paging.active=!0,this.loadData_Paging_Limit()}loadData_Paging_Limit(t){var n=this;return(0,p.A)(function*(){if(n.limitLoad>0)return void(t&&t());n.limitLoad=300;let l=setInterval(()=>{n.limitLoad-=100,n.limitLoad<=0&&(clearInterval(l),n.loadData_Paging(t))},100)})()}loadData_Paging(t){var n=this;return(0,p.A)(function*(){n.paging.loading=!0,S({loadingController:n.loadingController,params:{PageNumber:n.paging.page,PageSize:n.paging.limit},callback:l=>{var r;n.response=l,null!=l&&l.Succeeded?n.pushData(null!==(r=null==l?void 0:l.Data)&&void 0!==r?r:[]):(0,m.cX)(n.toastController,{},l).then(c=>c.present()),n.paging.loading=!1,n.paging.active=!(null==l||!l.HasNextPage),t&&t()}})})()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(b.Ix),e.rXU(s.Xi),e.rXU(s.K_),e.rXU(s.W3))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-modal-user-classify-history"]],decls:17,vars:5,consts:[["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],["slot","fixed",3,"ionRefresh"],["class","container py-5 text-center",4,"ngIf"],[1,"container"],["multiple","false","value","SettingSystemPrompt"],[1,"bg-light","color-dark","br-16px","overflow-hidden","mb-3"],[3,"ionInfinite",4,"ngIf"],[1,"container","py-5","text-center"],["src","../../../assets/image/default/no-info.svg"],[1,"text-muted","mt-4"],[3,"value"],["slot","header",1,"p-3"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fs-12",3,"color"],[1,"d-flex","align-items-end","justify-content-between","mt-2"],[1,"text-primary"],[1,"text-muted","fw-500"],["class","border-top pt-3 mt-3 fs-14",4,"ngIf"],["class","icon-expand d-flex justify-content-center mt-2",4,"ngIf"],["slot","content","class","ion-padding-horizontal",4,"ngIf"],[1,"border-top","pt-3","mt-3","fs-14"],[1,"icon-expand","d-flex","justify-content-center","mt-2"],["color","medium","name","chevron-down-outline",1,"fs-16"],["slot","content",1,"ion-padding-horizontal"],[1,"table","table-sm"],["class","fs-14",4,"ngFor","ngForOf"],[1,"fs-14"],[1,"text-nowrap","text-medium"],["class","w-120px h-120px",4,"ngIf"],[1,"w-120px","h-120px"],[3,"src"],[3,"ionInfinite"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return n.modalClose()}),e.nrm(4,"ion-icon",2),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"ion-refresher",3),e.bIt("ionRefresh",function(r){return n.onIonRefresher(r)}),e.nrm(10,"ion-refresher-content"),e.k0s(),e.DNE(11,X,5,3,"div",4),e.j41(12,"div",5)(13,"ion-accordion-group",6),e.Z7z(14,z,17,11,"div",7,e.fX1),e.k0s()(),e.DNE(16,K,2,0,"ion-infinite-scroll",8),e.k0s()),2&t&&(e.R7$(6),e.JRh(e.bMT(7,3,"UpgradeHistory")),e.R7$(5),e.Y8G("ngIf",n.response&&!n.userClassifyHistories.length),e.R7$(3),e.Dyx(n.userClassifyHistories),e.R7$(2),e.Y8G("ngIf",n.paging.active))},dependencies:[g.Sq,g.bT,s.xk,s.YH,s.Jm,s.QW,s.W9,s.eU,s.iq,s.Ax,s.Hp,s.To,s.Ki,s.IO,s.Zx,s.BC,s.ai,M.D9],styles:[".card-order[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;background-color:var(--ion-color-light);color:var(--ion-color-light-contrast)}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{min-height:1.25rem;padding-top:.25rem;padding-bottom:.25rem}.card-order[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;line-height:0}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion[_ngcontent-%COMP%]{margin:.5rem 0}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion[_ngcontent-%COMP%]   ion-item[slot=header][_ngcontent-%COMP%]{--border-width: 0 !important}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion[_ngcontent-%COMP%]:not(.accordion-expanded){border-bottom:1px solid #eee}ion-accordion-group[_ngcontent-%COMP%] > ion-accordion.accordion-expanding[_ngcontent-%COMP%], ion-accordion-group[_ngcontent-%COMP%] > ion-accordion.accordion-expanded[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px}ion-accordion-group[_ngcontent-%COMP%]   ion-accordion.accordion-expanding[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%], ion-accordion-group[_ngcontent-%COMP%]   ion-accordion.accordion-expanded[_ngcontent-%COMP%]   .icon-expand[_ngcontent-%COMP%]{display:none!important}"]}),a})();const Q=function(){var o=(0,p.A)(function*(a){a.params=a.params||{},(0,P.hm)({url:"api/UserClassify/get-available-catg",params:{},success:i=>{"function"==typeof a.callback&&a.callback(i.data||null)},error:i=>{var t;"function"==typeof a.callback&&a.callback(null==i||null===(t=i.response)||void 0===t?void 0:t.data),console.error(i)},loading:a.loading,loadingController:a.loadingController})});return function(i){return o.apply(this,arguments)}}(),q=function(){var o=(0,p.A)(function*(a){a.params=a.params||{},(0,P.IH)({url:"api/UserClassify/upgrade",params:{UserClassifyCode:a.params.UserClassifyCode,UserClassifyUpgradeValues:a.params.UserClassifyUpgradeValues},success:i=>{"function"==typeof a.callback&&a.callback(i.data||null)},error:i=>{var t;"function"==typeof a.callback&&a.callback(null==i||null===(t=i.response)||void 0===t?void 0:t.data),console.error(i)},loading:a.loading,loadingController:a.loadingController})});return function(i){return o.apply(this,arguments)}}();var ee=d(5614);const ne=()=>[0,.75,1];function te(o,a){1&o&&(e.j41(0,"div",6)(1,"ion-text",11),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&o&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"NoAccountUpgradeHistory")," "))}function ie(o,a){if(1&o&&(e.j41(0,"ion-select-option",14),e.EFF(1),e.k0s()),2&o){const i=a.$implicit;e.Y8G("value",i.UcWorkflowId),e.R7$(),e.SpI(" ",i.UserClassifyName," ")}}function oe(o,a){if(1&o){const i=e.RV6();e.j41(0,"div",8)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.j41(4,"ion-text",12),e.EFF(5,"*"),e.k0s()(),e.j41(6,"ion-select",13),e.nI1(7,"translate"),e.bIt("ionChange",function(n){e.eBV(i);const l=e.XpG();return e.Njj(l.changeUcWorkflow(n))}),e.Z7z(8,ie,2,2,"ion-select-option",14,e.fX1),e.k0s()()}if(2&o){const i=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"UpgradeCatg")," "),e.R7$(4),e.Y8G("placeholder",e.bMT(7,5,"UpgradeCatg"))("value",null==i.ucWorkflow?null:i.ucWorkflow.UcWorkflowId),e.R7$(2),e.Dyx(i.ucWorkflows)}}function le(o,a){1&o&&(e.j41(0,"ion-text",12),e.EFF(1,"*"),e.k0s())}function ae(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-input",15),e.mxI("ngModelChange",function(n){e.eBV(i);const l=e.XpG().$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("ionInput",function(n){e.eBV(i);const l=e.XpG().$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_string(n,l.UcCode,l.Pattern))}),e.k0s()}if(2&o){let i,t;const n=e.XpG().$implicit,l=e.XpG();e.Y8G("color",l.validUserClassifyUpgrade(n)?"success":"danger")("placeholder",n.Sample)("minlength",null!==(i=n.MinValue)&&void 0!==i?i:0)("maxlength",null!==(t=n.MaxValue)&&void 0!==t?t:1e3),e.R50("ngModel",l.userClassifyUpgradeValue[n.UcCode])}}function re(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-input",16),e.mxI("ngModelChange",function(n){e.eBV(i);const l=e.XpG().$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("ionInput",function(n){e.eBV(i);const l=e.XpG().$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_string(n,l.UcCode))}),e.k0s()}if(2&o){let i,t;const n=e.XpG().$implicit,l=e.XpG();e.Y8G("color",l.validUserClassifyUpgrade(n)?"success":"danger")("placeholder",n.Sample)("minlength",null!==(i=n.MinValue)&&void 0!==i?i:0)("maxlength",null!==(t=n.MaxValue)&&void 0!==t?t:2147483647),e.R50("ngModel",l.userClassifyUpgradeValue[n.UcCode])}}function se(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-thumbnail",18),e.bIt("click",function(n){e.eBV(i);const l=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_filepath(n,l.UcCode))}),e.nrm(1,"img",19),e.k0s()}if(2&o){const i=e.XpG(2).$implicit,t=e.XpG();e.R7$(),e.Y8G("src",t.getUserClassifyUpgradeUrl(i.UcCode),e.B4B)}}function ce(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-input",20),e.mxI("ngModelChange",function(n){e.eBV(i);const l=e.XpG(2).$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("click",function(n){e.eBV(i);const l=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.changeUserClassifyUpgradeValue_filepath(n,l.UcCode))}),e.j41(1,"ion-label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&o){const i=e.XpG(2).$implicit,t=e.XpG();e.Y8G("color",t.validUserClassifyUpgrade(i)?"success":"danger")("placeholder",i.Sample),e.R50("ngModel",t.userClassifyUpgradeValue[i.UcCode]),e.R7$(2),e.SpI(" ",e.bMT(3,4,"Upload")," ")}}function de(o,a){if(1&o&&e.DNE(0,se,2,1,"ion-thumbnail",17)(1,ce,4,6),2&o){const i=e.XpG().$implicit,t=e.XpG();e.vxM(0,t.getUserClassifyUpgradeUrl(i.UcCode)?0:1)}}function ue(o,a){if(1&o){const i=e.RV6();e.qex(0),e.j41(1,"div",28)(2,"div",29)(3,"div",30),e.bIt("click",function(){let n;const l=e.eBV(i).$implicit;e.XpG(2);const r=e.sdS(5),c=e.XpG(2).$implicit;return e.XpG().changeUserClassifyUpgradeValue(c.UcCode,null!==(n=null!==(n=l.CarBrand)&&void 0!==n?n:l.CarDesc)&&void 0!==n?n:""),e.Njj(r.dismiss())}),e.nrm(4,"ion-img",31),e.k0s()()(),e.bVm()}if(2&o){const i=a.$implicit,t=e.XpG(5);e.R7$(4),e.Y8G("src",t.getLogoUrl(i.LogoUrl))("alt",i.CarBrand)}}function pe(o,a){if(1&o&&(e.j41(0,"div",23)(1,"div",24)(2,"h4",25),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.j41(5,"div",26),e.DNE(6,ue,5,2,"ng-container",27),e.k0s()()),2&o){const i=e.XpG(4);e.R7$(3),e.SpI(" ",e.bMT(4,2,"SelectVehicleBrand")," "),e.R7$(3),e.Y8G("ngForOf",i.carManufts)}}function _e(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-input",20),e.mxI("ngModelChange",function(n){e.eBV(i);const l=e.XpG(2).$implicit,r=e.XpG();return e.DH7(r.userClassifyUpgradeValue[l.UcCode],n)||(r.userClassifyUpgradeValue[l.UcCode]=n),e.Njj(n)}),e.bIt("click",function(){e.eBV(i);const n=e.sdS(5);return e.Njj(n.present())}),e.j41(1,"ion-label",21),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"ion-modal",22,0),e.DNE(6,pe,7,4,"ng-template"),e.k0s()}if(2&o){const i=e.XpG(2).$implicit,t=e.XpG();e.Y8G("color",t.validUserClassifyUpgrade(i)?"success":"danger")("placeholder",i.Sample),e.R50("ngModel",t.userClassifyUpgradeValue[i.UcCode]),e.R7$(2),e.SpI(" ",e.bMT(3,6,"Choose")," "),e.R7$(2),e.Y8G("initialBreakpoint",.75)("breakpoints",e.lJ4(8,ne))}}function me(o,a){if(1&o&&e.DNE(0,_e,7,9),2&o){const i=e.XpG().$implicit;e.vxM(0,"CarManuft"==i.KeyData?0:-1)}}function fe(o,a){if(1&o&&(e.j41(0,"div",8)(1,"div"),e.EFF(2),e.DNE(3,le,2,0,"ion-text",12),e.k0s(),e.DNE(4,ae,1,5)(5,re,1,5)(6,de,2,1)(7,me,1,1),e.k0s()),2&o){let i;const t=a.$implicit;e.R7$(2),e.SpI(" ",t.UcName," "),e.R7$(),e.vxM(3,t.IsRequired?3:-1),e.R7$(),e.vxM(4,"string"===(i=t.DataType)?4:"number"===i?5:"filepath"===i?6:"dropdownlist"===i?7:-1)}}let ge=(()=>{var o;class a{constructor(t,n,l){this.loadingController=t,this.toastController=n,this.modalController=l,this.readfile_url=C.c.readfile_url,this.ucWorkflows=[],this.carManufts=[],this.userClassifyUpgradeCatgs=[],this.userClassifyUpgradeValue={}}ngOnInit(){Q({loading:t=>{this.isLoading=t},callback:t=>{null!=t&&t.Succeeded?this.ucWorkflows=t.Data||[]:(0,m.cX)(this.toastController,{},t).then(n=>n.present())}}),(0,k.z)({callback:t=>{if(null!=t&&t.Succeeded){var n,l;let c=null!==(n=t.Data)&&void 0!==n?n:{};var r;c.FullName&&this.changeUserClassifyUpgradeValue("HO-TEN",c.FullName),null!==(l=c.Person)&&void 0!==l&&l.Address&&this.changeUserClassifyUpgradeValue("DIA-CHI",null===(r=c.Person)||void 0===r?void 0:r.Address)}}}),(0,ee.E)({params:{PageNumber:1,PageSize:100},callback:t=>{null!=t&&t.Succeeded&&(this.carManufts=t.Data)}})}modalClose(){this.modalController.dismiss()}get modalSubmit_disabled(){return!this.userClassifyUpgradeCatgs.length||this.userClassifyUpgradeCatgs.map(t=>this.validUserClassifyUpgrade(t)?0:1).includes(1)}modalSubmit(){for(const l of this.userClassifyUpgradeCatgs)if(!this.checkUserClassifyUpgrade(l))break;if(this.modalSubmit_disabled)return;let t=()=>{var l,r;q({params:{UserClassifyCode:null!==(l=null===(r=this.ucWorkflow)||void 0===r?void 0:r.UserClassifyCode)&&void 0!==l?l:"",UserClassifyUpgradeValues:this.userClassifyUpgradeCatgs.map(c=>{var u;return{UcCode:c.UcCode,UcValue:null!==(u=this.userClassifyUpgradeValue[c.UcCode])&&void 0!==u?u:""}})},callback:c=>{var u;null!=c&&c.Succeeded?(this.modalController.dismiss(null,"success"),(0,m.cX)(this.toastController,{color:"success",message:null!==(u=c.Message)&&void 0!==u?u:"Th\u1ef1c hi\u1ec7n n\xe2ng c\u1ea5p t\xe0i kho\u1ea3n th\xe0nh c\xf4ng"}).then(_=>_.present())):(0,m.cX)(this.toastController,{},c).then(_=>_.present())}})},n=this.userClassifyUpgradeCatgs.filter(l=>l.file).map(l=>new Promise((r,c)=>{(0,I.v)({loadingController:this.loadingController,params:{file:l.file,subFolder:"classify",fileType:"image"},callback:u=>{0==(null==u?void 0:u.ReturnCode)?this.changeUserClassifyUpgradeValue(l.UcCode,`${u.path}/${u.file.name}`):(0,m.cX)(this.toastController,{},u).then(_=>_.present()),r(u)}})}));n.length?Promise.all(n).then(()=>{t()}):t()}changeUcWorkflow(t){var n,l;let r=t.detail.value;this.ucWorkflow=this.ucWorkflows.find(c=>c.UcWorkflowId==r),this.userClassifyUpgradeCatgs=null!==(n=null===(l=this.ucWorkflow)||void 0===l?void 0:l.UserClassifyUpgradeCatgs)&&void 0!==n?n:[]}getUserClassifyUpgradeUrl(t){let n=this.userClassifyUpgradeValue[t];if(n)return this.readfile_url+n;let l=this.userClassifyUpgradeCatgs.find(r=>r.UcCode==t);return l?l.fileUrl?l.fileUrl:void 0:null}getUserClassifyUpgrade(t){return this.userClassifyUpgradeCatgs.find(n=>n.UcCode==t)}validUserClassifyUpgrade(t){var n;let{fileUrl:l}=null!==(n=this.getUserClassifyUpgrade(t.UcCode))&&void 0!==n?n:{},r=this.userClassifyUpgradeValue[t.UcCode];return r?!(t.MinValue&&r.length<t.MinValue||t.MaxValue&&r.length>t.MaxValue):!!l||!t.IsRequired}checkUserClassifyUpgrade(t){var n;let{fileUrl:l}=null!==(n=this.getUserClassifyUpgrade(t.UcCode))&&void 0!==n?n:{},r=this.userClassifyUpgradeValue[t.UcCode];return r?t.MinValue&&r.length<t.MinValue?((0,m.cX)(this.toastController,{color:"warning",message:`${t.UcName} ch\u01b0a \u0111\u1ee7 ${t.MinValue} k\xed t\u1ef1.`}).then(c=>c.present()),!1):!(t.MaxValue&&r.length>t.MaxValue&&((0,m.cX)(this.toastController,{color:"warning",message:`${t.UcName} v\u01b0\u1ee3t ${t.MaxValue} k\xed t\u1ef1.`}).then(c=>c.present()),1)):!!l||!t.IsRequired||((0,m.cX)(this.toastController,{color:"warning",message:`${t.UcName} b\u1eaft bu\u1ed9c nh\u1eadp.`}).then(c=>c.present()),!1)}changeUserClassifyUpgradeValue(t,n){this.userClassifyUpgradeValue[t]=n}changeUserClassifyUpgradeFile(t,n){let l=this.userClassifyUpgradeCatgs.find(r=>r.UcCode==t);l?(l.file=n.file,l.fileUrl=n.fileUrl):this.userClassifyUpgradeCatgs.push({UcCode:t,...n})}changeUserClassifyUpgradeValue_string(t,n,l){let r=t.detail.value;"string"==typeof r&&(r=r.replace(/\s+/g," ").trim(),l&&(r=r.replace(new RegExp(l,"gmi"),""))),this.changeUserClassifyUpgradeValue(n,r)}changeUserClassifyUpgradeValue_filepath(t,n){var l=this;(0,O.$3)({modalController:this.modalController,toastController:this.toastController},function(){var r=(0,p.A)(function*(c){if(c.length){let u=yield l.modalController.create({component:x.A,componentProps:{file:c[0]},backdropDismiss:!0,keyboardClose:!0});u.onDidDismiss().then(function(){var _=(0,p.A)(function*(v){if("submit"==v.role&&v.data){var f=v.data;l.changeUserClassifyUpgradeFile(n,{file:f,fileUrl:URL.createObjectURL(f)})}});return function(v){return _.apply(this,arguments)}}()),u.present()}});return function(c){return r.apply(this,arguments)}}())}getLogoUrl(t){return!t||t.match(/^http(s)\:\/\//)?null!=t?t:"assets/image/favicon.svg":C.c.readfile_url+t.replace(/^\//,"")}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(s.Xi),e.rXU(s.K_),e.rXU(s.W3))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-modal-user-classify"]],decls:21,vars:9,consts:[["modalCarManuft",""],["slot","start"],[3,"click"],["src","../../../assets/icon/ion-icon/arrow-left.svg"],[1,"container","d-flex","flex-column","h-100"],[1,"flex-grow-1"],[1,"my-4","text-center"],["class","my-4",4,"ngIf"],[1,"my-4"],[1,"container"],["color","primary","shape","round","expand","block",3,"click","disabled"],["color","medium"],["color","danger"],["mode","md","fill","outline","interface","popover",3,"ionChange","placeholder","value"],[3,"value"],["mode","md","fill","outline","type","text",3,"ngModelChange","ionInput","color","placeholder","minlength","maxlength","ngModel"],["mode","md","fill","outline","type","number","inputmode","decimal",3,"ngModelChange","ionInput","color","placeholder","minlength","maxlength","ngModel"],[1,"rounded","overflow-hidden"],[1,"rounded","overflow-hidden",3,"click"],[3,"src"],["mode","md","fill","outline","type","text","readonly","",3,"ngModelChange","click","color","placeholder","ngModel"],["slot","end","color","medium",1,"fs-12"],[3,"initialBreakpoint","breakpoints"],[1,"ion-background-color-primary"],[1,"pt-4"],[1,"text-center","my-0"],[1,"p-3","d-flex","flex-wrap"],[4,"ngFor","ngForOf"],[1,"col-4","p-2"],[1,"p-3","rounded","bg-white"],[1,"embed-responsive","embed-responsive-1by1","cursor-pointer",3,"click"],[1,"embed-responsive-item",3,"src","alt"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.bIt("click",function(){return n.modalClose()}),e.nrm(4,"ion-icon",3),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"ion-content")(9,"div",4)(10,"div",5),e.DNE(11,te,4,3,"div",6)(12,oe,10,7,"div",7),e.Z7z(13,fe,8,3,"div",8,e.fX1),e.k0s()()(),e.j41(15,"ion-footer")(16,"ion-toolbar")(17,"div",9)(18,"ion-button",10),e.bIt("click",function(){return n.modalSubmit()}),e.EFF(19),e.nI1(20,"translate"),e.k0s()()()()),2&t&&(e.R7$(6),e.JRh(e.bMT(7,5,"UpgradeAccount")),e.R7$(5),e.vxM(11,n.isLoading||n.ucWorkflows.length?-1:11),e.R7$(),e.Y8G("ngIf",n.ucWorkflows.length),e.R7$(),e.Dyx(n.userClassifyUpgradeCatgs),e.R7$(5),e.Y8G("disabled",!n.userClassifyUpgradeCatgs.length),e.R7$(),e.SpI(" ",e.bMT(20,7,"Send")," "))},dependencies:[g.Sq,g.bT,y.BC,y.xh,y.tU,y.vS,s.Jm,s.QW,s.W9,s.M0,s.eU,s.iq,s.KW,s.$w,s.he,s.Nm,s.Ip,s.IO,s.Zx,s.BC,s.ai,s.Sb,s.su,s.Je,s.Gw,M.D9],styles:["ion-thumbnail[_ngcontent-%COMP%]{--size: 7.5rem}ion-input[_ngcontent-%COMP%]{font-family:Roboto,Arial,sans-serif;text-transform:uppercase;font-size:.875rem}ion-input[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-transform:initial}"]}),a})();var Ce=d(345),he=d(9777),ve=d(7663),Ue=d(4076),ye=d(5032);const E=()=>({}),w=o=>({$implicit:o});function be(o,a){if(1&o&&e.eu8(0,3),2&o){let i;const t=e.XpG(),n=e.sdS(4);e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.eq3(3,w,null!==(i=t.wallet)&&void 0!==i?i:e.lJ4(2,E)))}}function Me(o,a){if(1&o&&e.eu8(0,3),2&o){let i;const t=e.XpG(),n=e.sdS(6);e.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",e.eq3(3,w,null!==(i=t.wallet)&&void 0!==i?i:e.lJ4(2,E)))}}function ke(o,a){if(1&o){const i=e.RV6();e.j41(0,"span",17),e.EFF(1),e.k0s(),e.j41(2,"ion-icon",18),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&o){let i;const t=e.XpG().$implicit,n=e.XpG();e.HbH(n.isMobile?"fs-20":"fs-24"),e.R7$(),e.Lme(" ",n.APP_FUNC_FormatMoney(null!==(i=null==t?null:t.WalletValue)&&void 0!==i?i:0)," ",null!==(i=null==t?null:t.Units)&&void 0!==i?i:"\u0111"," ")}}function Pe(o,a){if(1&o){const i=e.RV6();e.j41(0,"span",17),e.EFF(1," *** *** "),e.k0s(),e.j41(2,"ion-icon",19),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&o){const i=e.XpG(2);e.HbH(i.isMobile?"fs-20":"fs-24")}}function Re(o,a){if(1&o){const i=e.RV6();e.j41(0,"span",17),e.EFF(1),e.k0s(),e.j41(2,"ion-icon",18),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&o){let i;const t=e.XpG(2);e.HbH(t.isMobile?"fs-20":"fs-24"),e.R7$(),e.Lme(" ",t.APP_FUNC_RoundNumber(null!==(i=null==t.walletVip?null:t.walletVip.WalletValue)&&void 0!==i?i:0,100)," ",null!==(i=null==t.walletVip?null:t.walletVip.Units)&&void 0!==i?i:"\u0111"," ")}}function Fe(o,a){if(1&o){const i=e.RV6();e.j41(0,"span",17),e.EFF(1," *** *** "),e.k0s(),e.j41(2,"ion-icon",19),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&o){const i=e.XpG(2);e.HbH(i.isMobile?"fs-20":"fs-24")}}function je(o,a){if(1&o&&(e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"div",9)(6,"div"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",10)(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,ke,3,4)(14,Pe,3,2),e.k0s()(),e.j41(15,"div",12)(16,"div"),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"div",10)(20,"span",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,Re,3,4)(24,Fe,3,2),e.k0s()()(),e.j41(25,"div",13)(26,"div")(27,"div",14),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"div",15),e.EFF(31),e.k0s()(),e.nrm(32,"ion-img",16),e.k0s()()()()()),2&o){let i;const t=e.XpG();e.R7$(5),e.HbH(t.isMobile?"fs-16":"fs-20"),e.R7$(2),e.SpI(" ",e.bMT(8,12,"PersonalWallet")," "),e.R7$(4),e.SpI("",e.bMT(12,14,"Balance"),":"),e.R7$(2),e.vxM(13,t.isShowBalance?13:14),e.R7$(2),e.HbH(t.isMobile?"fs-16":"fs-20"),e.R7$(2),e.SpI(" ",e.bMT(18,16,"VipWallet")," "),e.R7$(4),e.SpI("",e.bMT(22,18,"Balance"),":"),e.R7$(2),e.vxM(23,t.isShowBalance?23:24),e.R7$(5),e.SpI(" ",null!==(i=null==t.user?null:t.user.UserClassifyName)&&void 0!==i?i:e.bMT(29,20,"VipAccount")," "),e.R7$(3),e.SpI(" ",null==t.user?null:t.user.FullName," ")}}function Ie(o,a){if(1&o){const i=e.RV6();e.j41(0,"span",17),e.EFF(1),e.k0s(),e.j41(2,"ion-icon",18),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&o){let i;const t=e.XpG().$implicit,n=e.XpG();e.HbH(n.isMobile?"fs-20":"fs-24"),e.R7$(),e.SpI(" ",n.APP_FUNC_FormatMoney(null!==(i=null==t?null:t.WalletValue)&&void 0!==i?i:0),"\u0111 ")}}function Te(o,a){if(1&o){const i=e.RV6();e.j41(0,"span",17),e.EFF(1," *** *** "),e.k0s(),e.j41(2,"ion-icon",19),e.bIt("click",function(){e.eBV(i);const n=e.XpG(2);return e.Njj(n.toggleShowBalance())}),e.k0s()}if(2&o){const i=e.XpG(2);e.HbH(i.isMobile?"fs-20":"fs-24")}}function xe(o,a){if(1&o&&(e.j41(0,"div",20)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",21)(5,"div",22)(6,"div"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"div",10)(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,Ie,3,3)(14,Te,3,2),e.k0s()()(),e.j41(15,"div",13)(16,"div")(17,"div",14),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"div",15),e.EFF(21),e.k0s()(),e.nrm(22,"ion-img",16),e.k0s()()()()()),2&o){let i;const t=e.XpG();e.R7$(5),e.HbH(t.isMobile?"fs-16":"fs-20"),e.R7$(2),e.SpI(" ",e.bMT(8,7,"PersonalWallet")," "),e.R7$(4),e.SpI("",e.bMT(12,9,"Balance"),":"),e.R7$(2),e.vxM(13,t.isShowBalance?13:14),e.R7$(5),e.SpI(" ",null!==(i=null==t.user?null:t.user.UserClassifyName)&&void 0!==i?i:e.bMT(19,11,"RegularAccount")," "),e.R7$(3),e.SpI(" ",null==t.user?null:t.user.FullName," ")}}let Oe=(()=>{var o;class a{constructor(t,n){this.router=t,this.APP_ROUTE=R._,this.APP_FUNC_FormatMoney=h.xi,this.APP_FUNC_FormatDate=h.Rv,this.APP_FUNC_RoundNumber=h.Rw,this.v_user_classify=V.If,this.readfile_url=C.c.readfile_url,this.isShowBalance=!1,this.isMobile=n.is("mobile")||n.is("mobileweb")}ngOnInit(){this.refreshData()}refreshData(t){(0,k.z)({callback:n=>{var l;null!=n&&n.Succeeded&&(this.user=null!==(l=n.Data)&&void 0!==l?l:{},this.getMywallet()),t&&t()}})}getMywallet(){var t;(0,Ue.fL)({callback:n=>{null!=n&&n.Succeeded&&(this.wallet=n.Data)}}),"VIP"==(null===(t=this.user)||void 0===t?void 0:t.UserClassifyCode)&&(0,ve.t)({callback:n=>{null!=n&&n.Succeeded&&(this.walletVip=n.Data)}})}navigateByUrl(t){this.router.navigateByUrl(t)}toggleShowBalance(){var t=this;return(0,p.A)(function*(){t.isShowBalance=!t.isShowBalance})()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(b.Ix),e.rXU(ye.OD))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-wallet"]],decls:7,vars:1,consts:[["templateWalletCardVip",""],["templateWalletCardBasic",""],[1,"card-wallet","d-flex","align-items-center","justify-content-center"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"card-wallet-vip","w-480px","mw-100"],[1,"embed-responsive"],[1,"embed-responsive-item","d-flex","flex-column"],[1,"w-100","h-100","d-flex","flex-column"],[1,"flex-grow-1","d-flex","flex-column","align-items-start","justify-content-start"],[1,"px-4","mt-4"],[1,"d-flex","align-items-center","min-h-32px"],[1,"fw-200"],[1,"px-4","mt-2","card-vehicle-vip"],[1,"d-flex","align-items-center","justify-content-between","card-owner-box","px-3","py-2","min-h-60px"],[1,"fs-16"],[1,"fs-20","fw-600","text-uppercase"],["src","../../../assets/image/logo-light.svg",1,"h-40px"],[1,"ml-3","min-h-24px","fw-600"],["src","../../../assets/icon/ion-icon/eye.svg",1,"fs-16","cursor-pointer","ml-3",3,"click"],["src","../../../assets/icon/ion-icon/eye-off.svg",1,"fs-16","cursor-pointer","ml-3",3,"click"],[1,"card-wallet-basic","w-480px","mw-100"],[1,"flex-grow-1","d-flex","align-items-start"],[1,"px-4","py-4"]],template:function(t,n){1&t&&(e.j41(0,"div",2),e.DNE(1,be,1,5,"ng-container",3)(2,Me,1,5),e.k0s(),e.DNE(3,je,33,22,"ng-template",null,0,e.C5r)(5,xe,23,13,"ng-template",null,1,e.C5r)),2&t&&(e.R7$(),e.vxM(1,"VIP"==(null==n.user?null:n.user.UserClassifyCode)?1:2))},dependencies:[g.T3,s.iq,s.KW,M.D9],styles:[".card-wallet[_ngcontent-%COMP%]   .embed-responsive[_ngcontent-%COMP%]:before{padding-top:62.5%}.card-wallet[_ngcontent-%COMP%]   .card-wallet-basic[_ngcontent-%COMP%]{background:url(card-basic.7bfc59e04473f77c.svg) no-repeat;background-size:contain;color:#fff;border-radius:1rem;overflow:hidden}.card-wallet[_ngcontent-%COMP%]   .card-wallet-basic[_ngcontent-%COMP%]   .card-owner-box[_ngcontent-%COMP%]{background:#027a48;color:#fff;margin:0 1px;border-radius:0 0 1rem 1rem}.card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]{background:url(card-vip.6b629719e1df315e.svg) no-repeat;background-size:contain;color:#fff;border-radius:1rem;overflow:hidden}.card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]   .card-owner-box[_ngcontent-%COMP%]{background:linear-gradient(92.01deg,#121212 .18%,#121212 29.68%,#272727 61.58%,#353535 103.62%);margin:0 1px;border-radius:0 0 1rem 1rem}.card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]   .card-owner-box[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .card-wallet[_ngcontent-%COMP%]   .card-wallet-vip[_ngcontent-%COMP%]   .card-vehicle-vip[_ngcontent-%COMP%]   .vehicle-vin[_ngcontent-%COMP%]{background:linear-gradient(338.1deg,#fdd36f 33.93%,#c0982c,#f8cf50 57.97%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent}"]}),a})();function Ve(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-item",13),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.navigateByUrl(n.APP_ROUTE.CHARGING_RESERVATION))}),e.nrm(1,"ion-icon",16),e.j41(2,"ion-label"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"ChargingReservation")))}function Ee(o,a){if(1&o){const i=e.RV6();e.j41(0,"ion-item",13),e.bIt("click",function(){e.eBV(i);const n=e.XpG();return e.Njj(n.navigateByUrl(n.APP_ROUTE.VIP_WALLET_HISTORY))}),e.nrm(1,"ion-icon",39),e.j41(2,"ion-label"),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&o&&(e.R7$(3),e.JRh(e.bMT(4,1,"TransactionHistoryVip")))}function we(o,a){if(1&o&&(e.j41(0,"tr")(1,"td",40),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&o){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Company")),e.R7$(4),e.JRh(null==i.ownerCompany?null:i.ownerCompany.CompanyName)}}function $e(o,a){if(1&o&&(e.j41(0,"tr")(1,"td",40),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&o){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Tax")),e.R7$(4),e.JRh(null==i.ownerCompany?null:i.ownerCompany.TaxCode)}}function Ne(o,a){if(1&o&&(e.j41(0,"tr")(1,"td",40),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&o){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"LicenseDate")),e.R7$(4),e.JRh(null==i.ownerCompany?null:i.ownerCompany.LicenseDate)}}function Ge(o,a){if(1&o&&(e.j41(0,"tr")(1,"td",40),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b"),e.EFF(6),e.k0s()()()),2&o){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,2,"Address")),e.R7$(4),e.JRh(null==i.ownerCompany?null:i.ownerCompany.Address)}}function Se(o,a){if(1&o&&(e.j41(0,"tr")(1,"td",40),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"a",41),e.EFF(6),e.k0s()()()),2&o){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Email")),e.R7$(3),e.Y8G("href","mailto:"+(null==i.ownerCompany?null:i.ownerCompany.Email),e.B4B),e.R7$(),e.SpI(" ",null==i.ownerCompany?null:i.ownerCompany.Email," ")}}function Be(o,a){if(1&o&&(e.j41(0,"tr")(1,"td",40),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"td")(5,"b")(6,"a",41),e.EFF(7),e.k0s()()()()),2&o){const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,3,"Hotline")),e.R7$(4),e.Y8G("href","tel:"+i.APP_FUNC_FormatTel(null==i.ownerCompany?null:i.ownerCompany.Hotline),e.B4B),e.R7$(),e.SpI(" ",i.APP_FUNC_FormatMobileNumber(null==i.ownerCompany?null:i.ownerCompany.Hotline)," ")}}function Xe(o,a){if(1&o){const i=e.RV6();e.j41(0,"div",42)(1,"div",43)(2,"h4",44),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",45),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",46)(9,"div",47)(10,"ion-button",48),e.bIt("click",function(){e.eBV(i),e.XpG();const n=e.sdS(136);return e.Njj(null==n?null:n.dismiss())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"div",49)(14,"ion-button",50),e.bIt("click",function(n){e.eBV(i);const l=e.XpG(),r=e.sdS(136);return null==r||r.dismiss(),e.Njj(l.signOut(n))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()}2&o&&(e.R7$(3),e.JRh(e.bMT(4,4,"SignOut")),e.R7$(3),e.JRh(e.bMT(7,6,"SignOut_Confirm")),e.R7$(5),e.SpI(" ",e.bMT(12,8,"Cancel")," "),e.R7$(4),e.SpI(" ",e.bMT(16,10,"Confirm")," "))}const Ae=[{path:"",component:(()=>{var o;class a{constructor(t,n,l,r,c,u){this.router=t,this.titleService=n,this.translateService=l,this.loadingController=r,this.toastController=c,this.modalController=u,this.isAppTest=C.c.apptest,this.envVersion=C.c.version+" "+C.c.timeupdate,this.APP_ROUTE=R._,this.readfile_url=C.c.readfile_url,this.params={},this.APP_FUNC_FormatMobileNumber=h.IV,this.APP_FUNC_FormatTel=h.YH}ngOnInit(){var t=this;(0,p.A)(function*(){(yield(0,T.kU)())&&t.refreshData()})()}onIonRefresher(t){this.refreshData(()=>{t.target.complete()})}refreshData(t){var n=this;return(0,p.A)(function*(){(0,k.z)({loadingController:n.loadingController,callback:l=>{var r,c,u;null!=l&&l.Succeeded?(n.user=null!==(r=l.Data)&&void 0!==r?r:{},null!==(c=n.user)&&void 0!==c&&c.FullName?n.titleService.setTitle(null===(u=n.user)||void 0===u?void 0:u.FullName):n.translateService.stream("Account").subscribe(_=>{n.titleService.setTitle(_)})):(0,m.cX)(n.toastController,{},l).then(_=>_.present()),t&&t()}}),G({callback:l=>{null!=l&&l.Succeeded&&(n.ownerCompany=(l.Data||[]).at(0))}})})()}signOut(t){return(0,p.A)(function*(){yield(0,N.SD)(),(0,$.wn)({callback:()=>{window.location.replace(R._.AUTH)}})})()}changeAvatar(t){var n=this;return(0,p.A)(function*(){(0,O.$3)({modalController:n.modalController,toastController:n.toastController},function(){var l=(0,p.A)(function*(r){if(r.length){let c=yield n.modalController.create({component:x.A,componentProps:{file:r[0]},backdropDismiss:!0,keyboardClose:!0});c.onDidDismiss().then(function(){var u=(0,p.A)(function*(_){"submit"==_.role&&_.data&&(0,I.v)({loadingController:n.loadingController,params:{file:_.data,subFolder:"avatar",fileType:"image"},callback:f=>{var F;0==(null==f?void 0:f.ReturnCode)?(0,k.sh)({loadingController:n.loadingController,params:{UserId:null===(F=n.user)||void 0===F?void 0:F.UserId,Avatar:`${f.path}/${f.file.name}`},callback:U=>{null!=U&&U.Succeeded?n.refreshData():(0,m.cX)(n.toastController,{},U).then(Le=>Le.present())}}):(0,m.cX)(n.toastController,{},f).then(U=>U.present())}})});return function(_){return u.apply(this,arguments)}}()),c.present()}});return function(r){return l.apply(this,arguments)}}())})()}navigateByUrl(t){var n=this;return(0,p.A)(function*(){n.router.navigateByUrl(t)})()}presentModalUserClassifyHistory(t){var n=this;return(0,p.A)(function*(){null==t||t.preventDefault(),(yield n.modalController.create({component:Z})).present()})()}presentModalUserClassify(t){var n=this;return(0,p.A)(function*(){null==t||t.preventDefault();let l=yield n.modalController.create({component:ge,backdropDismiss:!1});l.onDidDismiss().then(r=>{"success"==r.role&&n.refreshData()}),l.present()})()}}return(o=a).\u0275fac=function(t){return new(t||o)(e.rXU(b.Ix),e.rXU(Ce.hE),e.rXU(M.c$),e.rXU(s.Xi),e.rXU(s.K_),e.rXU(s.W3))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-user"]],decls:139,vars:75,consts:[["modalSignOut",""],["slot","start"],["icon","../../../assets/icon/ion-icon/arrow-left.svg","text","",3,"defaultHref"],["slot","end"],[1,"w-50px","h-50px",3,"click"],["alt","",3,"src"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[1,"container","my-3"],["mode","ios","lines","none"],["button","","detail","false","color","light","detail-icon","chevron-forward-outline",3,"click"],["slot","start","color","warning","name","rocket-outline",1,"fs-24"],["slot","end","color","secondary",3,"click"],["button","","detail","true","color","light","detail-icon","chevron-forward-outline",3,"click"],["slot","start","src","../../../assets/icon/ion-icon/person-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/vehicle-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/bill-circle.svg",1,"fs-24"],["button","","detail","true","color","light","detail-icon","chevron-forward-outline"],["slot","start","src","../../../assets/icon/ion-icon/payment-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/setting-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/feedback-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/chat-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/book-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/persons-circle.svg",1,"fs-24"],["slot","start","src","../../../assets/icon/ion-icon/book-open-circle.svg",1,"fs-24"],[1,"container","card-company","bg-white","rounded"],[1,"table","table-borderless","m-0"],[4,"ngIf"],[1,"mt-3"],["mode","ios","color","light","expand","block","id","click-trigger-modal-signout",1,"btn-sign-out"],["slot","start","color","primary","src","../../../assets/icon/ion-icon/sign-out.svg",1,"fs-24"],["color","primary"],[1,"container"],[1,"copyright"],[3,"innerHTML"],[1,"d-flex","align-items-center","justify-content-center","p-1","line-height-0","version"],["src","../../../assets/image/favicon.svg"],[1,"text-muted","ml-1"],["trigger","click-trigger-modal-signout",1,"ion-modal-small"],["slot","start","src","../../../assets/icon/ion-icon/changing-electric-circle.svg",1,"fs-24"],[1,"text-muted"],[1,"text-dark",3,"href"],[1,"p-4"],[1,"text-center"],[1,"mb-2"],[1,"mb-4","fs-3"],[1,"row"],[1,"col-6","pr-1"],["fill","outline","color","medium","expand","block","shape","round",3,"click"],[1,"col-6","pl-1"],["color","primary","expand","block","shape","round",3,"click"]],template:function(t,n){if(1&t){const l=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"ion-buttons",3)(8,"ion-avatar",4),e.bIt("click",function(c){return e.eBV(l),e.Njj(n.changeAvatar(c))}),e.nrm(9,"img",5),e.k0s()()()(),e.j41(10,"ion-content",6)(11,"ion-refresher",7),e.bIt("ionRefresh",function(c){return e.eBV(l),e.Njj(n.onIonRefresher(c))}),e.nrm(12,"ion-refresher-content"),e.k0s(),e.j41(13,"div",8),e.nrm(14,"app-wallet"),e.k0s(),e.j41(15,"div",8)(16,"ion-list",9)(17,"ion-item",10),e.bIt("click",function(c){return e.eBV(l),e.Njj(n.presentModalUserClassify(c))}),e.nrm(18,"ion-icon",11),e.j41(19,"ion-label"),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"ion-button",12),e.bIt("click",function(c){return e.eBV(l),c.stopPropagation(),e.Njj(n.presentModalUserClassifyHistory(c))}),e.j41(23,"ion-label"),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()(),e.j41(26,"ion-list",9)(27,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.USER_INFO))}),e.nrm(28,"ion-icon",14),e.j41(29,"ion-label"),e.EFF(30),e.nI1(31,"translate"),e.k0s()(),e.j41(32,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.VEHICLE))}),e.nrm(33,"ion-icon",15),e.j41(34,"ion-label"),e.EFF(35),e.nI1(36,"translate"),e.k0s()(),e.j41(37,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.CUSTOMER_INVOICE))}),e.nrm(38,"ion-icon",16),e.j41(39,"ion-label"),e.EFF(40),e.nI1(41,"translate"),e.k0s()()(),e.j41(42,"ion-list",9),e.DNE(43,Ve,5,3,"ion-item",17),e.j41(44,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.ORDER_INFO))}),e.nrm(45,"ion-icon",16),e.j41(46,"ion-label"),e.EFF(47),e.nI1(48,"translate"),e.k0s()(),e.j41(49,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.WALLET_HISTORY))}),e.nrm(50,"ion-icon",18),e.j41(51,"ion-label"),e.EFF(52),e.nI1(53,"translate"),e.k0s()(),e.DNE(54,Ee,5,3,"ion-item",17),e.k0s(),e.j41(55,"ion-list",9)(56,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.SETTING))}),e.nrm(57,"ion-icon",19),e.j41(58,"ion-label"),e.EFF(59),e.nI1(60,"translate"),e.k0s()(),e.j41(61,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.FEEDBACK))}),e.nrm(62,"ion-icon",20),e.j41(63,"ion-label"),e.EFF(64),e.nI1(65,"translate"),e.k0s()(),e.j41(66,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.SUPPORT))}),e.nrm(67,"ion-icon",21),e.j41(68,"ion-label"),e.EFF(69),e.nI1(70,"translate"),e.k0s()(),e.j41(71,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.HELP))}),e.nrm(72,"ion-icon",22),e.j41(73,"ion-label"),e.EFF(74),e.nI1(75,"translate"),e.k0s()()(),e.j41(76,"ion-list",9)(77,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.ABOUT_US))}),e.nrm(78,"ion-icon",23),e.j41(79,"ion-label"),e.EFF(80),e.nI1(81,"translate"),e.k0s()(),e.j41(82,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.TERMS_AND_CONDITION))}),e.nrm(83,"ion-icon",24),e.j41(84,"ion-label"),e.EFF(85),e.nI1(86,"translate"),e.k0s()(),e.j41(87,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.PAYMENT_POLICY))}),e.nrm(88,"ion-icon",24),e.j41(89,"ion-label"),e.EFF(90),e.nI1(91,"translate"),e.k0s()(),e.j41(92,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.PRIVACY_POLICY))}),e.nrm(93,"ion-icon",24),e.j41(94,"ion-label"),e.EFF(95),e.nI1(96,"translate"),e.k0s()(),e.j41(97,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.WARRANTY_POLICY))}),e.nrm(98,"ion-icon",24),e.j41(99,"ion-label"),e.EFF(100),e.nI1(101,"translate"),e.k0s()(),e.j41(102,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.COMPLAINT_RESOLUTION_POLICY))}),e.nrm(103,"ion-icon",24),e.j41(104,"ion-label"),e.EFF(105),e.nI1(106,"translate"),e.k0s()(),e.j41(107,"ion-item",13),e.bIt("click",function(){return e.eBV(l),e.Njj(n.navigateByUrl(n.APP_ROUTE.PRICE_POLICY))}),e.nrm(108,"ion-icon",24),e.j41(109,"ion-label"),e.EFF(110),e.nI1(111,"translate"),e.k0s()()(),e.j41(112,"div",25)(113,"table",26),e.DNE(114,we,7,4,"tr",27)(115,$e,7,4,"tr",27)(116,Ne,7,4,"tr",27)(117,Ge,7,4,"tr",27)(118,Se,7,5,"tr",27)(119,Be,8,5,"tr",27),e.k0s()(),e.j41(120,"div",28)(121,"ion-button",29),e.nrm(122,"ion-icon",30),e.j41(123,"ion-label",31),e.EFF(124),e.nI1(125,"translate"),e.k0s()()()(),e.j41(126,"div",32)(127,"div",33),e.EFF(128," \xa9 Copyright 2024 by "),e.nrm(129,"b",34),e.nI1(130,"translate"),e.k0s(),e.j41(131,"div",35),e.nrm(132,"img",36),e.j41(133,"small",37),e.EFF(134),e.k0s()()(),e.j41(135,"ion-modal",38,0),e.DNE(137,Xe,17,12,"ng-template"),e.k0s()(),e.nrm(138,"app-footer-tabs")}2&t&&(e.R7$(3),e.Y8G("defaultHref",n.APP_ROUTE.DEFAULT),e.R7$(2),e.JRh(e.bMT(6,33,"UserInfo")),e.R7$(4),e.Y8G("src",null!=n.user&&n.user.Avatar?n.readfile_url+(null==n.user?null:n.user.Avatar):"assets/icon/ion-img/no-avatar.svg",e.B4B),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(10),e.JRh(e.bMT(21,35,"UpgradeAccount")),e.R7$(4),e.JRh(e.bMT(25,37,"History")),e.R7$(6),e.JRh(e.bMT(31,39,"UserInfo")),e.R7$(5),e.JRh(e.bMT(36,41,"Vehicle")),e.R7$(5),e.JRh(e.bMT(41,43,"ExportBillInfo")),e.R7$(3),e.vxM(43,n.isAppTest?43:-1),e.R7$(4),e.JRh(e.bMT(48,45,"OrderHistory")),e.R7$(5),e.JRh(e.bMT(53,47,"TransactionHistory")),e.R7$(2),e.vxM(54,"VIP"==(null==n.user?null:n.user.UserClassifyCode)?54:-1),e.R7$(5),e.JRh(e.bMT(60,49,"Setting")),e.R7$(5),e.JRh(e.bMT(65,51,"SendFeedback")),e.R7$(5),e.JRh(e.bMT(70,53,"FAQ")),e.R7$(5),e.JRh(e.bMT(75,55,"UseManual")),e.R7$(6),e.JRh(e.bMT(81,57,"AboutUs")),e.R7$(5),e.JRh(e.bMT(86,59,"TermsAndCondition")),e.R7$(5),e.JRh(e.bMT(91,61,"PaymentPolicy")),e.R7$(5),e.JRh(e.bMT(96,63,"PrivacyPolicy")),e.R7$(5),e.JRh(e.bMT(101,65,"WarrantyPolicy")),e.R7$(5),e.JRh(e.bMT(106,67,"ComplaintResolutionPolicy")),e.R7$(5),e.JRh(e.bMT(111,69,"PricePolicy")),e.R7$(4),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.CompanyName),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.TaxCode),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.LicenseDate),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.Address),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.Email),e.R7$(),e.Y8G("ngIf",null==n.ownerCompany?null:n.ownerCompany.Hotline),e.R7$(5),e.JRh(e.bMT(125,71,"SignOut")),e.R7$(5),e.Y8G("innerHTML",e.bMT(130,73,"CompanyName"),e.npT),e.R7$(5),e.SpI("v",n.envVersion,""))},dependencies:[g.bT,s.mC,s.Jm,s.QW,s.W9,s.eU,s.iq,s.uz,s.he,s.nf,s.To,s.Ki,s.BC,s.ai,s.Sb,s.el,he.x,Oe,M.D9],styles:[".card-info[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{padding:3rem 1rem;background-color:var(--ion-color-primary);background-image:url(bg-charging-location.24bf138423cec5f5.svg);background-repeat:no-repeat;background-position:center center;background-size:auto 200%}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{position:relative;z-index:1;width:7rem}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{width:7rem;height:7rem;border:.125rem solid var(--ion-color-light);background-color:var(--ion-color-light)}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]{position:absolute;z-index:2;bottom:0;right:0}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:2rem;height:2rem;min-width:2rem;min-height:2rem;--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;--border-radius: 50%}.card-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   .change-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-dark-tint)}.card-info[_ngcontent-%COMP%]   .icon-w24[_ngcontent-%COMP%]{display:inline-block;width:24px}.card-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-thumbnail[_ngcontent-%COMP%]{--size: 6rem;--border-radius: 50%;margin:auto;cursor:pointer}ion-list[_ngcontent-%COMP%]{padding:.5rem 0;margin:.5rem 0 1rem;border-radius:1rem;box-shadow:0 .125rem .5rem #00000026;background:var(--ion-color-light)!important}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 3rem}ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--ion-color-primary: var(--ion-color-light) !important;--ion-color-primary-contrast: var(--ion-color-dark) !important}.btn-sign-out[_ngcontent-%COMP%]{--box-shadow: 0 .125rem .5rem rgba(0, 0, 0, .15)}.card-company[_ngcontent-%COMP%]{padding:1rem}.card-company.rounded[_ngcontent-%COMP%]{border-radius:.5rem!important}.card-company[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-style:dashed!important;margin:.5rem 0}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{table-layout:fixed;font-size:.875rem}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;vertical-align:top}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:40%;padding-left:0;padding-right:.5rem;color:var(--ion-color-medium-shade)}.card-company[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{padding-left:.5rem;padding-right:0;text-align:right}.copyright[_ngcontent-%COMP%]{color:var(--ion-color-dark);text-align:center;font-size:1rem}.copyright[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration-line:underline}.version[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1rem;height:1rem}"]}),a})()}];let De=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[b.iI.forChild(Ae),b.iI]}),a})();var He=d(3890),We=d(4342);let Ye=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.MD,s.bv,We.LP]}),a})(),Je=(()=>{var o;class a{}return(o=a).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[g.MD,y.YN,s.bv,De,He.x,Ye]}),a})()}}]);